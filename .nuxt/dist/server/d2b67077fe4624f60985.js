exports.ids=[32],exports.modules={100:function(t,e){t.exports={undefined:void 0}},101:function(t,e,n){"use strict";var r={name:"PinArticle",mixins:[n(91).a]},o=n(1);var component=Object(o.a)(r,(function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return r("li",{class:e.$style["pin-article"]},[r("NLink",{staticClass:"only-h5",class:e.$style["pin-article-h5"],attrs:{to:e.$alias.pin(e.secretLink||e.item.slug)}},[e.item.media&&e.item.media.banner?r("header",{style:{paddingTop:e.item.media.banner.height/e.item.media.banner.width*100+"%"}},[r("img",{attrs:{src:e.$resize(e.item.media.banner.url,{width:400,mode:2})}})]):e._e(),e._v(" "),r("main",[r("div",{class:e.$style.user},[e.showUser?r("VImg",{attrs:{src:e.item.author.avatar,radius:"50%",width:"24",height:"24"}}):e._e(),e._v(" "),r("span",{domProps:{innerHTML:e._s(e.item.author.nickname)}})],1),e._v(" "),r("span",{class:e.$style.title,domProps:{innerHTML:e._s(e.item.title.text)}})]),e._v(" "),e.item.intro?r("footer",[r("p",{class:e.$style.intro,domProps:{innerHTML:e._s(e.item.intro)}})]):e._e()]),e._ssrNode(" "),e._ssrNode("<div"+e._ssrClass("only-pc",[e.$style["pin-article-pc"],(t={},t[e.$style["pin-article-pc-media"]]=e.item.media,t)])+">","</div>",[e._ssrNode("<h2"+e._ssrClass(null,e.$style.title)+">","</h2>",[e._ssrNode("<span"+e._ssrClass(null,e.$style.badge)+">"+e._ssrEscape(e._s(e.item.badge))+"</span> "),e.showZone?e._ssrNode("<div"+e._ssrClass(null,e.$style.area)+">","</div>",[e.item.area?r("NLink",{attrs:{to:e.$alias.tag(e.item.area.slug),target:"_blank"}},[r("VImg",{attrs:{src:e.item.area.avatar,width:"24",height:"24",radius:"5px"}})],1):e.item.topic?r("NLink",{attrs:{to:e.$alias.tag(e.item.topic.slug),target:"_blank"}},[r("VImg",{attrs:{src:e.item.topic.avatar,width:"24",height:"24",radius:"5px"}})],1):e._e()],1):e._e(),e._ssrNode(" "),e._ssrNode("<p"+e._ssrClass("oneline",e.$style.link)+">","</p>",[r("NLink",{staticClass:"fade-link oneline",attrs:{target:"_blank",to:e.$alias.pin(e.secretLink||e.item.slug)},domProps:{innerHTML:e._s(e.item.title.text)}})],1)],2),e._ssrNode(" "),e._ssrNode("<div"+e._ssrClass("clearfix",e.$style.content)+">","</div>",[e.item.media?r("NLink",{class:e.$style.media,attrs:{to:e.$alias.pin(e.secretLink||e.item.slug),target:"_blank"}},[e.item.media.first_video?r("div",{class:e.$style.video},[e.item.media.banner?r("VImg",{attrs:{src:e.item.media.banner.url,blur:!0,width:"187",height:"105"}}):e._e(),e._v(" "),r("i",{staticClass:"iconfont ic-bilibili",class:e.$style.badge})],1):e.item.media.first_music?r("div",{class:e.$style.music},[e.item.media.banner?r("VImg",{attrs:{src:e.item.media.banner.url,blur:!0,width:"187",height:"105"}}):e._e(),e._v(" "),r("i",{staticClass:"iconfont ic-netease",class:e.$style.badge})],1):r("VImg",{attrs:{src:e.item.media.banner.url,blur:!0,width:"187",height:"105"}}),e._v(" "),r("div",{class:e.$style.text},[r("i",{staticClass:"iconfont ic-video"}),e._v(" "),r("span",{domProps:{textContent:e._s(e.item.media.video_count)}}),e._v(" "),r("i",{staticClass:"iconfont ic-systemprompt"}),e._v(" "),r("span",{domProps:{textContent:e._s(e.item.media.music_count)}}),e._v(" "),r("i",{staticClass:"iconfont ic-camera"}),e._v(" "),r("span",{domProps:{textContent:e._s(e.item.media.image_count)}})])],1):e._e(),e._ssrNode(" "),e._ssrNode("<div"+e._ssrClass(null,e.$style.desc)+">","</div>",[e._ssrNode("<main><p>"+e._s(e.item.intro)+"</p></main> "),e._ssrNode("<footer>","</footer>",[e.showUser?r("NLink",{staticClass:"oneline",attrs:{to:e.$alias.user(e.item.author.slug),target:"_blank"}},[r("VImg",{attrs:{src:e.item.author.avatar,radius:"50%",width:"24",height:"24"}}),e._v("\n             \n            "),r("span",{domProps:{innerHTML:e._s(e.item.author.nickname)}})],1):e._e(),e._ssrNode(' <div><i class="iconfont ic-message_fill"></i> <span>'+e._ssrEscape(e._s(e.item.comment_count))+'</span></div> <div><i class="iconfont ic-good_fill"></i> <span>'+e._ssrEscape(e._s(e.item.like_count))+'</span></div> <div><i class="iconfont ic-mark_fill"></i> <span>'+e._ssrEscape(e._s(e.item.mark_count))+'</span></div> <div><i class="iconfont ic-browse_fill"></i> <span>'+e._ssrEscape(e._s(e.item.visit_count))+"</span></div>")],2)],2)],2)],2)],2)}),[],!1,(function(t){var e=n(97);e.__inject__&&e.__inject__(t),this.$style=e.locals||e}),null,"4dd47fa2");e.a=component.exports},102:function(t,e,n){t.exports=n.p+"img/aa8b45a.png"},103:function(t,e,n){t.exports=n.p+"img/3251725.png"},104:function(t,e,n){"use strict";var r=n(25),o={name:"CreateTagBtn",props:{title:{type:String,default:"新建分区"},parent:{type:String,required:!0}},methods:{actionCreate(){this.$prompt("请输入名称",this.title,{confirmButtonText:"提交",cancelButtonText:"取消"}).then(({value:t})=>{const e=t.trim();if(e.length>32)return this.$toast.error("名字不能超过32个字");Object(r.b)(this,{name:e,parent_slug:this.parent}).then(data=>{this.$emit("create",data)}).catch(t=>{this.$toast.error(t.message)})}).catch(()=>{})}}},l=n(1),component=Object(l.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("button",{attrs:{type:"button"},on:{click:this.actionCreate}},[this._t("default",[e("i",{staticClass:"el-icon-folder-add"}),this._v(" "),e("span",{domProps:{textContent:this._s(this.title)}})])],2)}),[],!1,null,null,"5cda1a3b");e.a=component.exports},109:function(t,e,n){"use strict";n.r(e);var r=n(92),o=n.n(r);for(var l in r)"default"!==l&&function(t){n.d(e,t,(function(){return r[t]}))}(l);e.default=o.a},110:function(t,e,n){"use strict";var r={name:"SkeletonArticle",components:{},props:{},data:()=>({}),computed:{},watch:{},created(){},mounted(){},methods:{}},o=n(1);var component=Object(o.a)(r,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"skeleton-article"},[this._ssrNode('<div class="only-pc"><div class="header"><div class="title gray"></div> <div class="area gray"></div></div> <div class="content"><div class="image gray"></div> <div class="intro"><div class="text"><div class="text-long gray"></div> <div class="text-shorten gray"></div></div> <div class="metas"><div class="meta gray"></div> <div class="meta gray"></div> <div class="meta gray"></div> <div class="meta gray"></div> <div class="meta gray"></div></div></div></div></div> <div class="only-h5"><div class="header"><div class="avatar gray"></div> <div class="title gray"></div></div> <div class="content"><div class="image gray"></div> <div class="intro"><div class="text"><div class="text-long gray"></div> <div class="text-shorten gray"></div></div></div></div> <div class="footer"><div class="meta gray"></div> <div class="meta gray"></div> <div class="meta gray"></div> <div class="meta gray"></div> <div class="meta gray"></div></div></div>')])}),[],!1,(function(t){var e=n(109);e.__inject__&&e.__inject__(t)}),null,"53cbe552");e.a=component.exports},116:function(t,e,n){"use strict";n.r(e);var r=n(98),o=n.n(r);for(var l in r)"default"!==l&&function(t){n.d(e,t,(function(){return r[t]}))}(l);e.default=o.a},117:function(t,e,n){"use strict";n.r(e);var r=n(99),o=n.n(r);for(var l in r)"default"!==l&&function(t){n.d(e,t,(function(){return r[t]}))}(l);e.default=o.a},118:function(t,e,n){"use strict";n.r(e);var r=n(100),o=n.n(r);for(var l in r)"default"!==l&&function(t){n.d(e,t,(function(){return r[t]}))}(l);e.default=o.a},135:function(t,e,n){"use strict";function r(t,e){const n=e?"scrollTop":"scrollLeft";let r=t[e?"pageYOffset":"pageXOffset"];return"number"!=typeof r&&(r=window.document.documentElement[n]),r}var o={name:"Affix",props:{top:{type:Number,default:0},bottom:{type:Number,default:void 0}},data:()=>({affix:!1,styles:{},slot:!1,slotStyle:{}}),computed:{offsetType(){let t="top";return this.bottom>=0&&(t="bottom"),t},classes(){return[{"v-affix":this.affix}]}},mounted(){if(window.screen.width<789)return;const t=this._getScrollTarget();this.$utils.on(t,"scroll",this.handleScroll),this.$utils.on(t,"resize",this.handleScroll),this.$nextTick(()=>{this.handleScroll({type:"scroll"})})},beforeDestroy(){const t=this._getScrollTarget();this.$utils.off(t,"scroll",this.handleScroll),this.$utils.off(t,"resize",this.handleScroll)},methods:{_getScrollTarget(){let t=this.$el;if(!t)return null;for(;t&&"HTML"!==t.tagName&&"BOYD"!==t.tagName&&1===t.nodeType;){const e=window.getComputedStyle(t).overflowY;if("scroll"===e||"auto"===e)return"HTML"===t.tagName||"BODY"===t.tagName?document:t;t=t.parentNode}return document},handleScroll(t){const e=this.affix,n=r(window,!0),o=function(element){const rect=element.getBoundingClientRect(),t=r(window,!0),e=r(window),n=window.document.body,o=n.clientTop||0,l=n.clientLeft||0;return{top:rect.top+t-o,left:rect.left+e-l}}(this.$el),l=window.innerHeight,c=this.$el.getElementsByTagName("div")[0].offsetHeight,d=!e||"resize"===t.type;o.top-this.top<n&&"top"===this.offsetType&&d?(this.affix=!0,this.slotStyle={width:this.$refs.point.clientWidth+"px",height:this.$refs.point.clientHeight+"px"},this.slot=!0,this.styles={top:`${this.top}px`,left:`${o.left}px`,width:`${this.$el.offsetWidth}px`},this.$emit("on-change",!0)):o.top-this.top>n&&"top"===this.offsetType&&e&&(this.slot=!1,this.slotStyle={},this.affix=!1,this.styles=null,this.$emit("on-change",!1)),o.top+this.bottom+c>n+l&&"bottom"===this.offsetType&&d?(this.affix=!0,this.styles={bottom:`${this.bottom}px`,left:`${o.left}px`,width:`${this.$el.offsetWidth}px`},this.$emit("on-change",!0)):o.top+this.bottom+c<n+l&&"bottom"===this.offsetType&&e&&(this.affix=!1,this.styles=null,this.$emit("on-change",!1))}}},l=n(1);var component=Object(l.a)(o,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._ssrNode("<div"+t._ssrClass(null,t.classes)+t._ssrStyle(null,t.styles,null)+">","</div>",[t._t("default")],2),t._ssrNode(" <div"+t._ssrStyle(null,t.slotStyle,{display:t.slot?"":"none"})+"></div>")],2)}),[],!1,(function(t){var e=n(116);e.__inject__&&e.__inject__(t)}),null,"bae1a548");e.a=component.exports},136:function(t,e,n){"use strict";var r=n(58),o=n.n(r),l=n(55),c=n.n(l),d=n(110),h=n(101),_={name:"PinFlowList",components:{ElSelect:c.a,ElOption:o.a,PinArticle:h.a,SkeletonArticle:d.a},props:{slug:{type:String,required:!0},showArea:{type:Boolean,default:!0}},data:()=>({time:"3-day",sort:"active"}),computed:{sortOpts:()=>[{label:"热门",value:"active"},{label:"最新",value:"newest"},{label:"热榜",value:"hottest"}],timeOpts:()=>[{label:"3天内",value:"3-day"},{label:"7天内",value:"7-day"},{label:"30天内",value:"30-day"},{label:"全部",value:"all"}],query(){return{$axios:this.$axios,slug:this.slug,sort:this.sort,time:this.time,take:10,changing:"slug"}}},methods:{changeSort(t){t!==this.sort&&(this.sort=t,this.$nextTick(()=>{this.$refs.loader.refresh()}))},changeTime(){this.$nextTick(()=>{this.$refs.loader.refresh()})},patchPin({data:data}){this.$axios.$get("v1/pin/batch_patch",{params:{slug:data.result.map(t=>t.slug).join(",")}}).then(t=>{this.$refs.loader.patch(t)}).catch(()=>{})}}},m=n(1);var component=Object(m.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"pin-flow-list"},[t._ssrNode('<ul class="sortable">',"</ul>",[t._ssrNode(t._ssrList(t.sortOpts,(function(e){return"<li"+t._ssrClass(null,{"is-active":e.value===t.sort})+">"+t._ssrEscape(t._s(e.label))+"</li>"}))+" "),"hottest"===t.sort?r("ElSelect",{attrs:{size:"mini"},on:{change:t.changeTime},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}},t._l(t.timeOpts,(function(t){return r("ElOption",{key:t.value,attrs:{label:t.label,value:t.value}})})),1):t._e()],2),t._ssrNode(" "),r("FlowLoader",{ref:"loader",attrs:{func:"getTagFlows",type:"newest"===t.sort?"lastId":"seenIds",query:t.query,callback:t.patchPin},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.flow;return r("ul",{staticClass:"flows"},t._l(n,(function(e){return r("PinArticle",{key:e.slug,attrs:{"show-zone":t.showArea,item:e}})})),1)}}])},[t._v(" "),r("SkeletonArticle",{attrs:{slot:"loading"},slot:"loading"}),t._v(" "),r("template",{slot:"nothing"},[r("img",{attrs:{src:n(102)}}),t._v(" "),r("p",[t._v("这里什么都没有")])]),t._v(" "),r("template",{slot:"error"},[r("img",{attrs:{src:n(103)}}),t._v(" "),r("p",[t._v("遇到错误了，点击重试")])])],2)],2)}),[],!1,(function(t){var e=n(117);e.__inject__&&e.__inject__(t)}),null,"d8539a20");e.a=component.exports},137:function(t,e,n){"use strict";var r=n(104),o=n(61),l=n.n(o),c=n(25),d={name:"TagHotList",components:{RollList:l.a,CreateTagBtn:r.a},props:{slug:{type:String,required:!0},title:{type:String,default:"热门分区"},children:{type:Object,required:!0}},data(){return{allChildren:this.children.result,page:1}},computed:{isAdmin(){return this.$store.getters.isAdmin}},methods:{handleCreate(data){this.allChildren.unshift(data),this.$toast.success("创建成功")},getData(){return Object(c.e)(this,{page:this.page,slug:this.slug}).then(data=>{this.allChildren=this.allChildren.concat(data.result),this.page++}).catch(()=>{})}}},h=n(1);var component=Object(h.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tag-hot-list"},[t._ssrNode('<h3 class="title only-pc">',"</h3>",[t._ssrNode("<span>"+t._ssrEscape(t._s(t.title))+"</span> "),t.isAdmin?n("CreateTagBtn",{attrs:{parent:t.slug},on:{create:t.handleCreate}},[n("i",{staticClass:"el-icon-plus fade-link"})]):t._e()],2),t._ssrNode(" "),t.allChildren.length?n("RollList",{attrs:{list:t.allChildren,fetch:t.getData,count:10},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.list;return n("ul",{staticClass:"child-node"},t._l(r,(function(e){return n("li",{key:e.slug,staticClass:"node clearfix"},[n("NLink",{attrs:{to:"/tag/"+e.slug}},[n("img",{attrs:{src:t.$resize(e.avatar,{width:50}),width:"50",height:"50",alt:e.name}}),t._v(" "),n("span",{staticClass:"oneline",domProps:{innerHTML:t._s(e.name)}})])],1)})),0)}}],null,!1,3758081035)},[n("i",{staticClass:"el-icon-refresh",attrs:{slot:"icon"},slot:"icon"}),t._v(" "),n("template",{slot:"text"},[t._v("\n       换一换\n    ")])],2):t._e()],2)}),[],!1,(function(t){var e=n(118);e.__inject__&&e.__inject__(t)}),null,"4c31d956");e.a=component.exports},205:function(t,e){t.exports={undefined:void 0}},206:function(t,e){t.exports={undefined:void 0}},207:function(t,e){t.exports={undefined:void 0}},302:function(t,e,n){"use strict";n.r(e);var r=n(205),o=n.n(r);for(var l in r)"default"!==l&&function(t){n.d(e,t,(function(){return r[t]}))}(l);e.default=o.a},303:function(t,e,n){"use strict";n.r(e);var r=n(206),o=n.n(r);for(var l in r)"default"!==l&&function(t){n.d(e,t,(function(){return r[t]}))}(l);e.default=o.a},304:function(t,e,n){"use strict";n.r(e);var r=n(207),o=n.n(r);for(var l in r)"default"!==l&&function(t){n.d(e,t,(function(){return r[t]}))}(l);e.default=o.a},343:function(t,e,n){"use strict";n.r(e);var r=n(25),o=n(135),l=n(136),c={name:"JoinZoneBtn",props:{slug:{type:String,required:!0}},data:()=>({loading:!1}),computed:{state(){return this.$store.getters["social/get"]("tag",this.slug)}},methods:{handleClick(){this.$store.state.isAuth?this.state.is_marked?this.$toast.info("暂不支持退出"):this.loading||(this.loading=!0,this.$axios.$post("v1/atfield/begin",{slug:this.slug}).then(t=>{"reject"===t?this.$toast.info("该分区还未开放"):"resolve"===t?this.$toast.info("你已加入该分区"):"no_rule"===t?this.$toast.info("还没有答题规则"):"no_question"===t?this.$toast.info("分区题目数量不足"):this.getQuestions()}).catch(t=>{this.$toast.error(t.message)}).finally(()=>{this.loading=!1})):this.$channel.$emit("sign-in")},getQuestions(){this.$router.push({path:this.$alias.tag(this.slug,"atfield")})}}},d=n(1),h={name:"JoinCard",components:{JoinZoneBtn:Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.state?n("div",{staticClass:"join-zone-wrap"},[n("ElButton",{attrs:{loading:t.loading,type:"primary",size:"mini",round:"",plain:""},on:{click:t.handleClick}},[t._v("\n    "+t._s(t.state.is_marked?"已加入":"加入")+"\n  ")]),t._ssrNode("\n   \n  "),n("NLink",{attrs:{to:t.$alias.tag(t.slug,"qa")}},[n("ElButton",{attrs:{type:"success",size:"mini",round:"",plain:""}},[t._v("\n      出题\n    ")])],1)],2):t._e()}),[],!1,null,null,"ff40794e").exports},props:{tag:{type:Object,required:!0}}};var _=Object(d.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"join-card"},[t._ssrNode('<div class="bg">',"</div>",[n("VImg",{staticClass:"poster",attrs:{src:t.tag.avatar,width:"250",height:"150"}})],1),t._ssrNode(" "),t._ssrNode('<div class="content">',"</div>",[t._ssrNode('<h1 class="name oneline">'+t._s(t.tag.name)+'</h1> <p class="desc">'+t._ssrEscape(t._s(t.tag.intro||"暂无简介"))+"</p> "),n("JoinZoneBtn",{attrs:{slug:t.tag.slug}})],2),t._ssrNode(' <div class="footer"><span>'+t._ssrEscape("成员数："+t._s(t.tag.seen_user_count)+"人")+"</span></div>")],2)}),[],!1,(function(t){var e=n(302);e.__inject__&&e.__inject__(t)}),null,"572d399f").exports,m=n(137),f={name:"TagControlPanel",props:{slug:{type:String,required:!0},parentSlug:{type:String,required:!0},isMaster:{type:Boolean,required:!0}},computed:{showQA(){return"uh4f"!==this.parentSlug},isAdmin(){return this.$store.getters.isAdmin},state(){return this.$store.getters["social/get"]("tag",this.slug)}},methods:{deleteTag(){this.$confirm("真的要这么做吗?","删除分区").then(()=>{Object(r.c)(this,{slug:this.slug}).then(()=>{this.$toast.success("删除成功").then(()=>{window.location.reload()})}).catch(t=>{this.$toast.error(t.message)})}).catch(()=>{})},inviteUser(){this.$prompt("请输入受邀者的cc号","邀请用户",{confirmButtonText:"提交",cancelButtonText:"取消"}).then(({value:t})=>{const e=t.trim();if(e.length>16||e.length<2||!/^([a-z0-9]|_|-)+$/i.test(e))return this.$toast.error("错误的cc号");this.$axios.$post("v1/atfield/invite",{user_slug:e,tag_slug:this.slug}).then(()=>{this.$toast.success("邀请成功")}).catch(t=>{this.$toast.error(t.message)})}).catch(()=>{})},changeMaster(){this.$prompt("请输入新班长的cc号","任命班长",{confirmButtonText:"提交",cancelButtonText:"取消"}).then(({value:t})=>{const e=t.trim();if(e.length>16||e.length<2||!/^([a-z0-9]|_|-)+$/i.test(e))return this.$toast.error("错误的cc号");this.$axios.$post("v1/atfield/change_master",{tag_slug:this.slug,user_slug:e}).then(()=>{this.$toast.success("任命成功").then(()=>{window.location.reload()})}).catch(t=>{this.$toast.error(t.message)})}).catch(()=>{})}}};var v=Object(d.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isMaster||t.isAdmin?n("div",{staticClass:"tag-control-panel"},[t._ssrNode("<h3>控制台</h3> "),t.$hasRole("update_tag")?n("NLink",{attrs:{to:t.$alias.tag(t.slug,"edit")}},[n("ElButton",{attrs:{icon:"el-icon-edit",type:"info",round:""}},[t._v("\n      编辑分区\n    ")])],1):t._e(),t._ssrNode(" "),t.$hasRole("delete_tag")?n("ElButton",{attrs:{icon:"el-icon-delete",type:"danger",round:""},on:{click:t.deleteTag}},[t._v("\n    删除分区\n  ")]):t._e(),t._ssrNode(" "),t.$hasRole("invite_user")?n("ElButton",{attrs:{icon:"el-icon-user",type:"success",round:""},on:{click:t.inviteUser}},[t._v("\n    邀请用户\n  ")]):t._e(),t._ssrNode(" "),t.isMaster&&t.isAdmin?n("ElButton",{attrs:{icon:"el-icon-user",type:"warning",round:""},on:{click:t.changeMaster}},[t._v("\n    任命班长\n  ")]):t._e()],2):t._e()}),[],!1,(function(t){var e=n(303);e.__inject__&&e.__inject__(t)}),null,"28f70bec").exports,y={name:"TagShow",layout:"web",components:{Affix:o.a,JoinCard:_,PinFlowList:l.a,TagHotList:m.a,TagControlPanel:v},props:{slug:{type:String,required:!0}},asyncData({app:t,error:e,params:n}){const{slug:o}=n;return Promise.all([Object(r.d)(t,{slug:o}),Object(r.e)(t,{slug:o})]).then(data=>({tag:data[0],children:data[1]})).catch(e)},data:()=>({tag:null,children:[],is_master:!1}),beforeMount(){this.patchTag()},methods:{patchTag(){this.$axios.$get("v1/tag/patch",{params:{slug:this.slug}}).then(data=>{this.tag=this.$set(this,"tag",Object.assign(this.tag,data)),this.$store.commit("social/set",{type:"tag",slug:this.slug,data:{is_marked:data.is_marked}}),this.is_master=data.is_master}).catch(()=>{})}},head(){const{tag:t}=this;return{title:t.name,meta:[{hid:"keywords",name:"keywords",content:t.alias},{hid:"description",name:"description",content:`${t.name},${t.intro}`},{hid:"share-image",name:"share-image",content:t.avatar}]}}};var $=Object(d.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tag-show"}},[n("ElRow",{staticClass:"container"},[n("ElCol",{attrs:{xs:24,span:5}},[n("div",{staticClass:"left-aside"},[n("JoinCard",{attrs:{tag:t.tag}}),t._v(" "),n("Affix",{attrs:{top:70}},[n("TagHotList",{attrs:{slug:t.slug,children:t.children}})],1)],1)]),t._v(" "),n("ElCol",{staticClass:"main-wrap",attrs:{xs:24,span:14}},[n("PinFlowList",{attrs:{slug:t.slug}})],1),t._v(" "),n("ElCol",{staticClass:"only-pc",attrs:{xs:24,span:5}},[n("div",{staticClass:"right-aside"},[n("TagControlPanel",{attrs:{"is-master":t.is_master,slug:t.slug,"parent-slug":t.tag.parent_slug}})],1)])],1)],1)}),[],!1,(function(t){var e=n(304);e.__inject__&&e.__inject__(t)}),null,"5d3bcdf8");e.default=$.exports},87:function(t,e){t.exports={"pin-article-pc-media":"pin-article-pc-media_EdOoY",pinArticlePcMedia:"pin-article-pc-media_EdOoY",desc:"desc_2dZ7I","pin-article-pc":"pin-article-pc_n9l6d",pinArticlePc:"pin-article-pc_n9l6d",title:"title_11AiS",badge:"badge_33AUe",link:"link_2zXb9",area:"area_1BjFz",media:"media_2oWmK",text:"text_2wAMb",music:"music_3Ur6b",video:"video_32S3V","pin-article-h5":"pin-article-h5_2Chnp",pinArticleH5:"pin-article-h5_2Chnp",user:"user_1ugeY",intro:"intro_3P9uJ","skeleton-loading":"skeleton-loading_LpB2j",skeletonLoading:"skeleton-loading_LpB2j",skeleton:"skeleton_3OUSt"}},91:function(t,e,n){"use strict";e.a={props:{item:{type:Object,required:!0},showUser:{type:Boolean,default:!0},showZone:{type:Boolean,default:!0},relationZone:{type:String,default:""},secretLink:{type:String,default:""}},computed:{showTopic(){return!(!this.showZone||!this.item.topic)&&this.item.topic.slug!==this.relationZone},showArea(){return!(!this.showZone||!this.item.area)&&this.item.area.slug!==this.relationZone}}}},92:function(t,e){t.exports={undefined:void 0}},97:function(t,e,n){"use strict";n.r(e);var r=n(87),o=n.n(r);for(var l in r)"default"!==l&&function(t){n.d(e,t,(function(){return r[t]}))}(l);e.default=o.a},98:function(t,e){t.exports={undefined:void 0}},99:function(t,e){t.exports={undefined:void 0}}};