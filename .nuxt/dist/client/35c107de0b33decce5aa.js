(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{0:function(e,t,n){"use strict";n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"n",(function(){return v})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return w})),n.d(t,"c",(function(){return _})),n.d(t,"m",(function(){return x})),n.d(t,"o",(function(){return S})),n.d(t,"j",(function(){return E})),n.d(t,"l",(function(){return k})),n.d(t,"d",(function(){return C})),n.d(t,"b",(function(){return T})),n.d(t,"g",(function(){return P})),n.d(t,"k",(function(){return N}));n(15),n(127),n(9),n(206),n(51),n(52),n(232),n(54),n(33),n(19);var r=n(2),o=n(58),c=n(1);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function d(e){c.default.config.errorHandler&&c.default.config.errorHandler(e)}function m(e){return e.then(e=>e.default||e)}function f(e,t){if(t||!e.options.__hasNuxtData){var n=e.options._originDataFn||e.options.data||function(){return{}};e.options._originDataFn=n,e.options.data=function(){var data=n.call(this,this);return this.$ssrContext&&(t=this.$ssrContext.asyncData[e.cid]),h({},data,{},t)},e.options.__hasNuxtData=!0,e._Ctor&&e._Ctor.options&&(e._Ctor.options.data=e.options.data)}}function v(e){return e.options&&e._Ctor===e?e:(e.options?(e._Ctor=e,e.extendOptions=e.options):(e=c.default.extend(e))._Ctor=e,!e.options.name&&e.options.__file&&(e.options.name=e.options.__file),e)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"components";return Array.prototype.concat.apply([],e.matched.map((e,r)=>Object.keys(e[n]).map(o=>(t&&t.push(r),e[n][o]))))}function w(e){return y(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1],"instances")}function _(e,t){return Array.prototype.concat.apply([],e.matched.map((e,n)=>Object.keys(e.components).reduce((r,o)=>(e.components[o]?r.push(t(e.components[o],e.instances[o],e,o,n)):delete e.components[o],r),[])))}function x(e,t){return Promise.all(_(e,function(){var e=Object(r.a)((function*(e,n,r,o){return"function"!=typeof e||e.options||(e=yield e()),r.components[o]=e=v(e),"function"==typeof t?t(e,n,r,o):e}));return function(t,n,r,o){return e.apply(this,arguments)}}()))}function O(e){return $.apply(this,arguments)}function $(){return($=Object(r.a)((function*(e){if(e)return yield x(e),h({},e,{meta:y(e).map((t,n)=>h({},t.options.meta,{},(e.matched[n]||{}).meta))})}))).apply(this,arguments)}function S(e,t){return j.apply(this,arguments)}function j(){return(j=Object(r.a)((function*(e,t){e.context||(e.context={isStatic:!1,isDev:!1,isHMR:!1,app:e,store:e.store,payload:t.payload,error:t.error,base:"/",env:{API_URL:"http://localhost/",API_URL_BROWSER:"https://api.calibur.tv/",TAGS:{newbie:"ugf6",notebook:"uh4f",bangumi:"2he",topic:"3p6",game:"285"},INJECT:{tags:{newbie:"ugf6",notebook:"uh4f",bangumi:"2he",topic:"3p6",game:"285"},author:"冰淤",description:"咔哩吧是一个二次元社区",keywords:"C站,calibur,咔哩吧,ACG,二次元,垂直社区,兴趣社交",title:"咔哩吧 (｡･∀･)ﾉﾞ 你开心就好~~calibur",name:"咔哩吧",baiduStat:'var _hmt=_hmt||[];(function(){var hm=document.createElement("script");hm.src="https://hm.baidu.com/hm.js?c10304a2f70ee2ddf8d2818551d37a4b";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s)})();',baiduPush:"(function(){var bp=document.createElement('script');var curProtocol=window.location.protocol.split(':')[0];if(curProtocol==='https'){bp.src='https://zz.bdstatic.com/linksubmit/push.js'}else{bp.src='http://push.zhanzhang.baidu.com/push.js'}var s=document.getElementsByTagName(\"script\")[0];s.parentNode.insertBefore(bp,s)})();"},SOCKET_HOST:"wss://api.calibur.tv/ws"}},t.req&&(e.context.req=t.req),t.res&&(e.context.res=t.res),t.ssrContext&&(e.context.ssrContext=t.ssrContext),e.context.redirect=(t,path,n)=>{if(t){e.context._redirected=!0;var r=typeof path;if("number"==typeof t||"undefined"!==r&&"object"!==r||(n=path||{},r=typeof(path=t),t=302),"object"===r&&(path=e.router.resolve(path).route.fullPath),!/(^[.]{1,2}\/)|(^\/(?!\/))/.test(path))throw path=function(e,t){var n,r=e.indexOf("://");-1!==r?(n=e.substring(0,r),e=e.substring(r+3)):e.startsWith("//")&&(e=e.substring(2));var o,c=e.split("/"),l=(n?n+"://":"//")+c.shift(),path=c.filter(Boolean).join("/");2===(c=path.split("#")).length&&([path,o]=c);l+=path?"/"+path:"",t&&"{}"!==JSON.stringify(t)&&(l+=(2===e.split("?").length?"&":"?")+function(e){return Object.keys(e).sort().map(t=>{var n=e[t];return null==n?"":Array.isArray(n)?n.slice().map(e=>[t,"=",e].join("")).join("&"):t+"="+n}).filter(Boolean).join("&")}(t));return l+=o?"#"+o:""}(path,n),window.location.replace(path),new Error("ERR_REDIRECT");e.context.next({path:path,query:n,status:t})}},e.context.nuxtState=window.__NUXT__);var[n,r]=yield Promise.all([O(t.route),O(t.from)]);t.route&&(e.context.route=n),t.from&&(e.context.from=r),e.context.next=t.next,e.context._redirected=!1,e.context._errored=!1,e.context.isHMR=!1,e.context.params=e.context.route.params||{},e.context.query=e.context.route.query||{}}))).apply(this,arguments)}function E(e,t){return!e.length||t._redirected||t._errored?Promise.resolve():k(e[0],t).then(()=>E(e.slice(1),t))}function k(e,t){var n;return(n=2===e.length?new Promise(n=>{e(t,(function(e,data){e&&t.error(e),n(data=data||{})}))}):e(t))&&n instanceof Promise&&"function"==typeof n.then?n:Promise.resolve(n)}function C(base,e){var path=decodeURI(window.location.pathname);return"hash"===e?window.location.hash.replace(/^#\//,""):(base&&0===path.indexOf(base)&&(path=path.slice(base.length)),(path||"/")+window.location.search+window.location.hash)}function T(e,t){return function(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",I(t)));return function(t,r){for(var path="",data=t||{},o=(r||{}).pretty?A:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var h=data[l.name||"pathMatch"],d=void 0;if(null==h){if(l.optional){l.partial&&(path+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(Array.isArray(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var m=0;m<h.length;m++){if(d=o(h[m]),!n[c].test(d))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(d)+"`");path+=(0===m?l.prefix:l.delimiter)+d}}else{if(d=l.asterisk?A(h,!0):o(h),!n[c].test(d))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+d+'"');path+=l.prefix+d}}else path+=l}return path}}(function(e,t){var n,r=[],o=0,c=0,path="",l=t&&t.delimiter||"/";for(;null!=(n=R.exec(e));){var h=n[0],d=n[1],m=n.index;if(path+=e.slice(c,m),c=m+h.length,d)path+=d[1];else{var f=e[c],v=n[2],y=n[3],w=n[4],_=n[5],x=n[6],O=n[7];path&&(r.push(path),path="");var $=null!=v&&null!=f&&f!==v,S="+"===x||"*"===x,j="?"===x||"*"===x,E=n[2]||l,pattern=w||_;r.push({name:y||o++,prefix:v||"",delimiter:E,optional:j,repeat:S,partial:$,asterisk:Boolean(O),pattern:pattern?M(pattern):O?".*":"[^"+L(E)+"]+?"})}}c<e.length&&(path+=e.substr(c));path&&r.push(path);return r}(e,t),t)}function P(e,t){var n={},r=h({},e,{},t);for(var o in r)String(e[o])!==String(t[o])&&(n[o]=!0);return n}function N(e){var t;if(e.message||"string"==typeof e)t=e.message||e;else try{t=JSON.stringify(e,null,2)}catch(n){t="[".concat(e.constructor.name,"]")}return h({},e,{message:t,statusCode:e.statusCode||e.status||e.response&&e.response.status||500})}window.onNuxtReadyCbs=[],window.onNuxtReady=e=>{window.onNuxtReadyCbs.push(e)};var R=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function A(e,t){var n=t?/[?#]/g:/[/?#]/g;return encodeURI(e).replace(n,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())}function L(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function M(e){return e.replace(/([=!:$/()])/g,"\\$1")}function I(e){return e&&e.sensitive?"":"i"}},114:function(e,t,n){"use strict";t.a={}},123:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return d}));var r=(e,t)=>{var{slug:n}=t;return e.$axios.$get("v1/tag/show",{params:{slug:n}})},o=(e,t)=>{var{name:n,parent_slug:r}=t;return e.$axios.$post("v1/tag/create",{name:n,parent_slug:r})},c=(e,t)=>{var{name:n,slug:r,avatar:o,alias:c,intro:l}=t;return e.$axios.$post("v1/tag/update",{name:n,slug:r,avatar:o,alias:c,intro:l})},l=(e,t)=>{var{slug:n}=t;return e.$axios.$post("v1/tag/delete",{slug:n})},h=(e,t)=>{var{slug:n}=t;return e.$axios.$get("v1/tag/bookmarks",{params:{slug:n}})},d=(e,t)=>{var{slug:n,page:r,take:o}=t;return e.$axios.$get("v1/tag/children",{params:{slug:n,page:r,take:o}})}},157:function(e,t,n){e.exports=n.p+"img/b07f58f.jpeg"},159:function(e,t,n){"use strict";n.r(t),n.d(t,"getUserMessage",(function(){return r})),n.d(t,"getUserRelation",(function(){return o})),n.d(t,"getUserDrafts",(function(){return c})),n.d(t,"getUserTimeline",(function(){return l})),n.d(t,"getPinComments",(function(){return h})),n.d(t,"getTagFlows",(function(){return d})),n.d(t,"getATField",(function(){return m})),n.d(t,"getZoneQuestions",(function(){return f})),n.d(t,"getMixinSearch",(function(){return v})),n.d(t,"getTimeline",(function(){return y})),n.d(t,"getFlowRecommendedIndex",(function(){return w})),n.d(t,"tagHottest",(function(){return _})),n.d(t,"getBangumiQuestionTrials",(function(){return x})),n.d(t,"getIdolFans",(function(){return O})),n.d(t,"getBangumiLiker",(function(){return $}));n(15),n(127),n(9),n(19);var r=e=>{var{$axios:t,channel:n,since_id:r,is_up:o,count:c}=e;return t.$get("v1/message/history",{params:{channel:n,since_id:r,count:c,is_up:o}})},o=e=>{var{$axios:t,seen_ids:n,slug:r,relation:o}=e;return t.$get("v1/user/relation",{params:{seen_ids:n,slug:r,relation:o}})},c=e=>{var{$axios:t,page:n,count:r}=e;return t.$get("v1/pin/drafts",{params:{page:n,count:r}})},l=e=>{var{$axios:t,page:n,count:r,slug:o}=e;return t.$get("v1/user/timeline",{params:{page:n,count:r,slug:o}})},h=e=>{var{$axios:t,sort:n,slug:r,count:o,last_id:c,seen_ids:l,mode:h,page:d}=e;return t.$get("v1/comment/list",{params:{sort:n,slug:r,count:o,last_id:c,seen_ids:l,mode:h,page:d}})},d=e=>{var{$axios:t,slug:n,sort:r,time:time,take:o,seen_ids:c,last_id:l}=e;return new Promise((e,h)=>{Promise.all([t.$get("v1/flow/pins",{params:{slug:n,sort:r,time:time,take:o,is_up:0,spec_id:"newest"===r?l:c}}),new Promise(e=>setTimeout(e,400))]).then(data=>{e(data[0])}).catch(h)})},m=e=>{var{$axios:t,page:n,count:r,sort:o,slug:c}=e;return new Promise((e,l)=>{Promise.all([t.$get("v1/atfield/flow",{params:{page:n,count:r,sort:o,slug:c}}),new Promise(e=>setTimeout(e,400))]).then(data=>{e(data[0])}).catch(l)})},f=e=>{var{$axios:t,slug:n}=e;return t.$get("v1/atfield/list",{params:{slug:n}})},v=e=>{var{$axios:t,page:n,type:r,q:q}=e;return t.$get("v1/search/mixin",{params:{page:n,type:r,q:q}})},y=e=>{var{$axios:t,type:n,slug:r}=e;return t.$get("v1/".concat(n,"/timeline"),{params:{slug:r}})},w=e=>{var{$axios:t,seen_ids:n}=e;return t.$get("v1/flow/index",{params:{seen_ids:n}})},_=e=>{var{$axios:t,page:n,take:r}=e;return t.$get("v1/tag/hottest",{params:{page:n,take:r}})},x=e=>{var{$axios:t,page:n,take:r,bangumi_slug:o,user_slug:c,status:l,sort:h}=e;return t.$get("v1/join/flow",{params:{page:n,take:r,bangumi_slug:o,user_slug:c,status:l,sort:h}})},O=e=>{var{$axios:t,page:n,take:r,slug:o,sort:c}=e;return t.$get("v1/idol/fans",{params:{page:n,take:r,slug:o,sort:c}})},$=e=>{var{$axios:t,page:n,take:r,slug:o}=e;return t.$get("v1/bangumi/liker",{params:{page:n,take:r,slug:o}})}},17:function(e,t,n){"use strict";n.r(t),n.d(t,"convertTA",(function(){return r})),n.d(t,"randomStr",(function(){return o})),n.d(t,"adjustDate",(function(){return c})),n.d(t,"shortenNumber",(function(){return l})),n.d(t,"timeAgo",(function(){return h})),n.d(t,"checkInView",(function(){return d})),n.d(t,"on",(function(){return m})),n.d(t,"off",(function(){return f}));n(51),n(52);var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?"我":0===e?"TA":1===e?"他":2===e?"她":"TA"},o=()=>"".concat(Date.now(),"-").concat(Math.random().toString(36).substring(3,6)),c=time=>{if(/^\d+$/.test(time)&&10===time.toString().length)return new Date(1e3*time);var e=new Date(time);return"Invalid Date"===e.toString()&&(e=new Date(time.replace(/-/g,"/"))),e},l=e=>e>1e3?"".concat(Math.floor(e/1e3*10)/10,"k"):e,h=time=>{var e=c(time),t=Date.now()-e.getTime(),n=[e.getFullYear(),"0".concat(e.getMonth()+1).substr(-2),"0".concat(e.getDate()).substr(-2),"0".concat(e.getHours()).substr(-2),"0".concat(e.getMinutes()).substr(-2)];if(t>31536e6||t<=0)return"".concat(n[0],"-").concat(n[1],"-").concat(n[2]);var r=(new Date).setHours(0,0,0,0);return r<e?"今天".concat(n[3],":").concat(n[4]):r-864e5<e?"昨天".concat(n[3],":").concat(n[4]):r-1728e5<e?"前天".concat(n[3],":").concat(n[4]):"".concat(n[1],"-").concat(n[2]," ").concat(n[3],":").concat(n[4])},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e)return!1;var rect=e.getBoundingClientRect();return rect.top<window.innerHeight+t&&rect.bottom+t>0&&rect.left<window.innerWidth+t&&rect.right+t>0},m=function(){if("undefined"!=typeof window)return document.addEventListener?function(element,e,t){element&&e&&t&&element.addEventListener(e,t,!1)}:function(element,e,t){element&&e&&t&&element.attachEvent("on"+e,t)}}(),f=function(){if("undefined"!=typeof window)return document.removeEventListener?function(element,e,t){element&&e&&element.removeEventListener(e,t,!1)}:function(element,e,t){element&&e&&element.detachEvent("on"+e,t)}}()},178:function(e,t,n){"use strict";var r=n(130),o=n.n(r),c=n(183),l=n.n(c),h=n(74),d=n(24),m=n(179),f={components:{ElBadge:l.a,ElSwitch:o.a,VSearch:m.a},props:{showUser:{type:Boolean,default:!0}},data:()=>({night_mode:!1}),computed:{headers:()=>[{route:"/zone/bangumi",name:"动漫"},{route:"/about/managers",name:"学园"}],isAuth(){return this.$store.state.isAuth},user(){return this.$store.state.user},mailbox(){return this.$store.state.mailbox},headerType(){var{name:e}=this.$route;return"fixed"}},mounted(){this.$channel.$when("user-signed",()=>{this.getUnreadMessageCount()})},methods:{handleLogout(){Object(d.f)(this),this.$cookie.remove("JWT-TOKEN"),this.$channel.socketDisconnect(),window.location="/"},handleSignIn(){this.$channel.$emit("sign-in")},getUnreadMessageCount(){this.$store.dispatch("refreshMailbox");var e=Date.now();window.addEventListener("mousemove",Object(h.b)(3e3,()=>{e=Date.now()})),setInterval(()=>{"visible"===document.visibilityState&&!this.$store.state.socket.isConnected&&Date.now()-e<3e4&&this.$store.dispatch("refreshMailbox")},1e4)},handleNightModeSwitch(){this.$toast.success("开个玩笑，还没支持~")}}},v=(n(241),n(11)),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{attrs:{id:"page-header"}},[n("div",{staticClass:"header-text",class:"header-"+e.headerType},[n("div",{staticClass:"container nav"},[n("nav",{staticClass:"left"},[n("NLink",{staticClass:"logo",attrs:{to:"/"}},[n("i",{staticClass:"iconfont ic-calibur"})]),e._v(" "),n("VSwitcher",{attrs:{headers:e.headers,routable:!0,"anchor-padding":15,"header-height":50,align:"start"}},e._l(e.headers,(function(t,r){return n("NLink",{key:r,attrs:{slot:"tab-"+r,to:t.route},slot:"tab-"+r},[n("span",{domProps:{textContent:e._s(t.name)}})])})),1)],1),e._v(" "),n("div",{staticClass:"right"},[n("div",{staticClass:"search-container"},[n("VSearch",{staticClass:"only-pc",attrs:{"show-suggestion":!1}}),e._v(" "),n("NLink",{staticClass:"h5-search-entry only-h5",attrs:{to:"/search"}},[n("i",{staticClass:"iconfont ic-search"})])],1),e._v(" "),e.showUser?[e.isAuth?[n("div",{staticClass:"user-panel icon-link"},[n("NLink",{staticClass:"avatar",attrs:{to:e.$alias.user(e.user.slug)}},[n("VImg",{attrs:{src:e.user.avatar,def:"default-avatar",width:"33",height:"33",radius:"50%",alt:e.user.nickname}})],1),e._v(" "),n("div",{staticClass:"user-popover"},[n("p",{staticClass:"nickname oneline",domProps:{innerHTML:e._s(e.user.nickname)}}),e._v(" "),n("div",{staticClass:"field"},[e._m(0),e._v(" "),n("div",{staticClass:"value"},[n("ElSwitch",{attrs:{"active-color":"#ff6881","inactive-color":"#c0c0c0"},on:{change:e.handleNightModeSwitch},model:{value:e.night_mode,callback:function(t){e.night_mode=t},expression:"night_mode"}})],1)]),e._v(" "),n("NLink",{attrs:{to:e.$alias.user(e.user.slug,"setting")}},[n("div",{staticClass:"field"},[n("div",{staticClass:"label"},[n("i",{staticClass:"iconfont ic-setup_fill"}),e._v(" "),n("span",[e._v("设置")])])])]),e._v(" "),n("button",{staticClass:"sign-out",on:{click:e.handleLogout}},[e._v("\n                  退出\n                ")])],1)],1),e._v(" "),n("NLink",{staticClass:"icon-link only-pc",attrs:{to:e.$alias.user(e.user.slug,"message")}},[n("ElBadge",{attrs:{value:e.mailbox.unread_notice_total+e.mailbox.unread_message_total,hidden:!e.mailbox.unread_message_total&&!e.mailbox.unread_notice_total}},[n("i",{staticClass:"iconfont ic-remind"})])],1)]:[n("ElButton",{staticClass:"only-pc",attrs:{type:"text"},on:{click:e.handleSignIn}},[e._v("\n              登录\n            ")]),e._v(" "),n("NLink",{attrs:{to:e.$alias.sign()}},[n("ElButton",{staticClass:"only-h5",attrs:{type:"text"}},[e._v("\n                登录  \n              ")])],1)]]:e._e(),e._v(" "),n("div",{staticClass:"creator-wrap only-pc"},[n("NLink",{attrs:{target:"_blank",to:e.$alias.create()}},[n("ElButton",{attrs:{size:"small",type:"primary",icon:"el-icon-s-promotion"}},[e._v("\n              投稿\n            ")])],1)],1)],2)])]),e._v(" "),n("div",{staticClass:"header-shim"})])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"label"},[t("i",{staticClass:"iconfont ic-night"}),this._v(" "),t("span",[this._v("夜间模式")])])}],!1,null,null,null);t.a=component.exports},179:function(e,t,n){"use strict";n(55),n(188);var r={name:"VSearchInput",props:{placeholder:{type:String,default:"搜索"},autofocus:{type:Boolean,default:!1},value:{type:String,default:""},type:{type:String,default:"all"},showSuggestion:{type:Boolean,default:!1}},data(){return{word:this.value,selectedType:this.type,state:this.autofocus?"focus":"blur",typing:!1,filteredSelect:[],selectedIndex:-1,tags:[]}},computed:{displaySuggestion(){return"focus"===this.state&&this.showSuggestion&&this.word&&this.word.length&&this.typing&&this.filteredSelect.length}},mounted(){this.$watch("value",e=>{this.word=e,this.typing=!0,this.selectedIndex=-1,this.handleEnter(e)}),this.$watch("word",e=>{this.$emit("input",e)}),this.$watch("$route",e=>{"search"===e.name&&(this.word=e.query.q,this.selectedType=e.query.type,setTimeout(()=>{this.typing=!1},0))}),this.getSearchTags()},methods:{getSearchTags(){this.showSuggestion&&this.$nextTick(()=>{this.$cache.expired("search-all-tags",86400)?this.$axios.$get("v1/search/tags").then(e=>{this.tags=e,this.$cache.set("search-all-tags",e),this.word&&(this.handleEnter(this.word),this.filteredSelect.length&&(this.handleInputFocus(),this.typing=!0))}).catch(()=>{}):this.tags=this.$cache.get("search-all-tags")})},submit(){var q=-1!==this.selectedIndex?this.filteredSelect[this.selectedIndex].name.trim():this.word.trim();q&&(this.$channel.$emit("search-action",{text:q,type:this.selectedType}),this.$router.push({name:"search",query:{q:q,type:this.selectedType}}))},handleEnter(e){this.filteredSelect=e?this.tags.filter(option=>option.alias.includes(e)||option.name.includes(e)):[]},handleInputFocus(){this.state="focus",this.$emit("focus")},handleInputBlur(){this.state="blur",this.$emit("blur")}}},o=(n(240),n(11)),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"search-input-wrap",class:"search-"+e.state,attrs:{action:"#",method:"get"},on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[n("button",{staticClass:"search-input-btn",attrs:{type:"submit"}},[e._t("submit-btn",[n("i",{staticClass:"iconfont ic-search"})])],2),e._v(" "),n("div",{staticClass:"search-input-text"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.word,expression:"word",modifiers:{trim:!0}}],staticClass:"search-input",attrs:{placeholder:e.placeholder,autofocus:e.autofocus,type:"text",name:"q","aria-autocomplete":"both","aria-haspopup":"false",autocapitalize:"off",autocomplete:"off",autocorrect:"off",role:"combobox",spellcheck:"false",maxlength:"50"},domProps:{value:e.word},on:{focus:e.handleInputFocus,blur:[e.handleInputBlur,function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||(e.word=t.target.value.trim())}}})]),e._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.displaySuggestion,expression:"displaySuggestion"}],staticClass:"search-suggestions"},e._l(e.filteredSelect,(function(t,r){return n("NLink",{key:t.id,class:{active:r===e.selectedIndex},attrs:{to:e.$alias.tag(t.slug),tag:"li"}},[n("img",{attrs:{src:e.$resize(t.avatar,{width:60})}}),e._v(" "),n("span",{domProps:{textContent:e._s(t.name)}})])})),1)])}),[],!1,null,null,null);t.a=component.exports},18:function(e,t,n){"use strict";n(31),n(9);var r=n(2),o=n(58),c=n(1),l=n(181),h=n(115),d=n.n(h),m=n(40),f=n.n(m),v=n(50),y=n(0);"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual",window.addEventListener("beforeunload",()=>{window.history.scrollRestoration="auto"}),window.addEventListener("load",()=>{window.history.scrollRestoration="manual"}));var w=()=>{},_=v.a.prototype.push;v.a.prototype.push=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,n=arguments.length>2?arguments[2]:void 0;return _.call(this,e,t,n)},c.default.use(v.a);var x={mode:"history",base:decodeURI("/"),linkActiveClass:"nuxt-link-active",linkExactActiveClass:"nuxt-link-exact-active",scrollBehavior:function(e,t,n){var r=!1,o=Object(y.e)(e);o.length<2&&o.every(e=>!1!==e.options.scrollToTop)?r={x:0,y:0}:o.some(e=>e.options.scrollToTop)&&(r={x:0,y:0}),n&&(r=n);var c=window.$nuxt;return e.path===t.path&&e.hash!==t.hash&&c.$nextTick(()=>c.$emit("triggerScroll")),new Promise(t=>{c.$once("triggerScroll",()=>{if(e.hash){var n=e.hash;void 0!==window.CSS&&void 0!==window.CSS.escape&&(n="#"+window.CSS.escape(n.substr(1)));try{document.querySelector(n)&&(r={selector:n})}catch(e){console.warn("Failed to save scroll position. Please add CSS.escape() polyfill (https://github.com/mathiasbynens/CSS.escape).")}}t(r)})})},routes:[{path:"/about",component:()=>Object(y.i)(n.e(13).then(n.bind(null,640))),props:!1,name:"about",children:[{path:"managers",component:()=>Object(y.i)(n.e(14).then(n.bind(null,641))),props:!1,name:"about-index-managers"}]},{path:"/search",component:()=>Object(y.i)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(72),n.e(37)]).then(n.bind(null,633))),props:!1,name:"search"},{path:"/sign",component:()=>Object(y.i)(Promise.all([n.e(6),n.e(38)]).then(n.bind(null,642))),props:!1,name:"sign"},{path:"/write",component:()=>Object(y.i)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(62)]).then(n.bind(null,630))),props:!1,name:"write"},{path:"/app/admin",component:()=>Object(y.i)(n.e(17).then(n.bind(null,643))),props:!1,name:"app-admin"},{path:"/callback/auth-error",component:()=>Object(y.i)(n.e(32).then(n.bind(null,644))),props:!1,name:"callback-auth-error"},{path:"/callback/auth-redirect",component:()=>Object(y.i)(n.e(33).then(n.bind(null,645))),props:!1,name:"callback-auth-redirect"},{path:"/callback/auth-success",component:()=>Object(y.i)(n.e(34).then(n.bind(null,646))),props:!1,name:"callback-auth-success"},{path:"/zone/atfield",component:()=>Object(y.i)(n.e(63).then(n.bind(null,647))),props:!1,name:"zone-atfield"},{path:"/zone/bangumi",component:()=>Object(y.i)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(64)]).then(n.bind(null,648))),props:!1,name:"zone-bangumi"},{path:"/zone/game",component:()=>Object(y.i)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(65)]).then(n.bind(null,649))),props:!1,name:"zone-game"},{path:"/zone/topic",component:()=>Object(y.i)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(66)]).then(n.bind(null,650))),props:!1,name:"zone-topic"},{path:"/app/admin/create-bangumi",component:()=>Object(y.i)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(15)]).then(n.bind(null,651))),props:!1,name:"app-admin-create-bangumi"},{path:"/app/admin/create-idol",component:()=>Object(y.i)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(16)]).then(n.bind(null,652))),props:!1,name:"app-admin-create-idol"},{path:"/app/admin/trial",component:()=>Object(y.i)(n.e(18).then(n.bind(null,653))),props:!1,name:"app-admin-trial"},{path:"/app/bangumi/edit",component:()=>Object(y.i)(n.e(19).then(n.bind(null,654))),props:!1,name:"app-bangumi-edit"},{path:"/app/bangumi/join",component:()=>Object(y.i)(n.e(20).then(n.bind(null,655))),props:!1,name:"app-bangumi-join"},{path:"/app/bangumi/profile",component:()=>Object(y.i)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(21)]).then(n.bind(null,656))),props:!1,name:"app-bangumi-profile"},{path:"/app/bangumi/relation",component:()=>Object(y.i)(n.e(22).then(n.bind(null,657))),props:!1,name:"app-bangumi-relation"},{path:"/app/bangumi/rule",component:()=>Object(y.i)(Promise.all([n.e(0),n.e(70),n.e(23)]).then(n.bind(null,658))),props:!1,name:"app-bangumi-rule"},{path:"/app/bangumi/test",component:()=>Object(y.i)(Promise.all([n.e(71),n.e(24)]).then(n.bind(null,659))),props:!1,name:"app-bangumi-test"},{path:"/app/bangumi/trial",component:()=>Object(y.i)(n.e(25).then(n.bind(null,660))),props:!1,name:"app-bangumi-trial"},{path:"/app/idol/edit",component:()=>Object(y.i)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(26)]).then(n.bind(null,661))),props:!1,name:"app-idol-edit"},{path:"/app/public/news",component:()=>Object(y.i)(n.e(27).then(n.bind(null,662))),props:!1,name:"app-public-news"},{path:"/app/public/rank",component:()=>Object(y.i)(n.e(28).then(n.bind(null,663))),props:!1,name:"app-public-rank"},{path:"/app/public/rule",component:()=>Object(y.i)(n.e(29).then(n.bind(null,664))),props:!1,name:"app-public-rule"},{path:"/app/user/edit",component:()=>Object(y.i)(Promise.all([n.e(0),n.e(1),n.e(3),n.e(7),n.e(30)]).then(n.bind(null,665))),props:!1,name:"app-user-edit"},{path:"/app/user/list",component:()=>Object(y.i)(n.e(31).then(n.bind(null,637))),props:!1,name:"app-user-list"},{path:"/pin/:slug?",component:()=>Object(y.i)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(36)]).then(n.bind(null,628))),props:!0,name:"pin-slug"},{path:"/tag/:slug?",component:()=>Object(y.i)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(41)]).then(n.bind(null,632))),props:!0,name:"tag-slug"},{path:"/user/:slug?",component:()=>Object(y.i)(n.e(43).then(n.bind(null,638))),props:!0,name:"user-slug",children:[{path:"draft",component:()=>Object(y.i)(n.e(44).then(n.bind(null,666))),props:!0,name:"user-slug-draft"},{path:"emotion",component:()=>Object(y.i)(n.e(50).then(n.bind(null,667))),props:!0,name:"user-slug-emotion"},{path:"message",component:()=>Object(y.i)(Promise.all([n.e(74),n.e(51)]).then(n.bind(null,629))),props:!0,name:"user-slug-message"},{path:"setting",component:()=>Object(y.i)(n.e(52).then(n.bind(null,668))),props:!0,children:[{path:"",component:()=>Object(y.i)(n.e(54).then(n.bind(null,669))),name:"user-slug-setting"},{path:"basic",component:()=>Object(y.i)(Promise.all([n.e(0),n.e(1),n.e(3),n.e(7),n.e(53)]).then(n.bind(null,670))),name:"user-slug-setting-basic"},{path:"oauth2",component:()=>Object(y.i)(n.e(55).then(n.bind(null,671))),name:"user-slug-setting-oauth2"}]},{path:"social",component:()=>Object(y.i)(n.e(56).then(n.bind(null,672))),props:!0,children:[{path:"",component:()=>Object(y.i)(n.e(60).then(n.bind(null,673))),name:"user-slug-social"},{path:"followers",component:()=>Object(y.i)(Promise.all([n.e(5),n.e(57)]).then(n.bind(null,674))),name:"user-slug-social-followers"},{path:"following",component:()=>Object(y.i)(Promise.all([n.e(5),n.e(58)]).then(n.bind(null,675))),name:"user-slug-social-following"},{path:"friends",component:()=>Object(y.i)(Promise.all([n.e(5),n.e(59)]).then(n.bind(null,676))),name:"user-slug-social-friends"}]},{path:"timeline",component:()=>Object(y.i)(n.e(61).then(n.bind(null,631))),props:!0,name:"user-slug-timeline"},{path:"emotion/category",component:()=>Object(y.i)(n.e(45).then(n.bind(null,677))),props:!0,name:"user-slug-emotion-category",children:[{path:"bangumi",component:()=>Object(y.i)(n.e(46).then(n.bind(null,678))),name:"user-slug-emotion-category-bangumi"},{path:"game",component:()=>Object(y.i)(n.e(47).then(n.bind(null,679))),name:"user-slug-emotion-category-game"},{path:"notebook",component:()=>Object(y.i)(n.e(48).then(n.bind(null,680))),name:"user-slug-emotion-category-notebook"},{path:"topic",component:()=>Object(y.i)(n.e(49).then(n.bind(null,681))),name:"user-slug-emotion-category-topic"}]}]},{path:"/tag/:slug?/atfield",component:()=>Object(y.i)(n.e(39).then(n.bind(null,639))),props:!0,name:"tag-slug-atfield"},{path:"/tag/:slug?/edit",component:()=>Object(y.i)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(40)]).then(n.bind(null,634))),props:!0,name:"tag-slug-edit"},{path:"/tag/:slug?/qa",component:()=>Object(y.i)(Promise.all([n.e(73),n.e(42)]).then(n.bind(null,635))),props:!0,name:"tag-slug-qa"},{path:"/",component:()=>Object(y.i)(n.e(35).then(n.bind(null,682))),props:!1,name:"index"}],fallback:!1};var O={name:"NuxtChild",functional:!0,props:{nuxtChildKey:{type:String,default:""},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0}},render(e,t){var{parent:n,data:data,props:r}=t;data.nuxtChild=!0;for(var o=n,c=n.$nuxt.nuxt.transitions,l=n.$nuxt.nuxt.defaultTransition,h=0;n;)n.$vnode&&n.$vnode.data.nuxtChild&&h++,n=n.$parent;data.nuxtChildDepth=h;var d=c[h]||l,m={};$.forEach(e=>{void 0!==d[e]&&(m[e]=d[e])});var f={};S.forEach(e=>{"function"==typeof d[e]&&(f[e]=d[e].bind(o))});var v=f.beforeEnter;if(f.beforeEnter=e=>{if(window.$nuxt.$nextTick(()=>{window.$nuxt.$emit("triggerScroll")}),v)return v.call(o,e)},!1===d.css){var y=f.leave;(!y||y.length<2)&&(f.leave=(e,t)=>{y&&y.call(o,e),o.$nextTick(t)})}var w=e("routerView",data);return r.keepAlive&&(w=e("keep-alive",{props:r.keepAliveProps},[w])),e("transition",{props:m,on:f},[w])}},$=["name","mode","appear","css","type","duration","enterClass","leaveClass","appearClass","enterActiveClass","enterActiveClass","leaveActiveClass","appearActiveClass","enterToClass","leaveToClass","appearToClass"],S=["beforeEnter","enter","afterEnter","enterCancelled","beforeLeave","leave","afterLeave","leaveCancelled","beforeAppear","appear","afterAppear","appearCancelled"],j={name:"nuxt-error",components:{VHeader:n(178).a},props:{error:{type:Object,default:null}},computed:{statusCode(){return"继续操作前请先登录"===this.message?401:"请在APP内打开该页面"===this.message?403:this.error&&this.error.statusCode||404},message(){return this.error&&this.error.message}},mounted(){401===this.statusCode&&(window.location=this.$alias.sign())},methods:{handleLogin(){this.$channel.$emit("sign-in")},toastMessage(){this.$toast.error(this.message)}},head:{title:"出错了"}},E=(n(242),n(11)),k=Object(E.a)(j,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"error-page"}},[r("VHeader",{attrs:{"show-user":!1}}),e._v(" "),r("div",{staticClass:"error-main"},[401===e.statusCode?r("div",{attrs:{id:"error-401"}},[r("img",{attrs:{src:n(236),alt:"error-401"},on:{click:e.toastMessage}}),e._v(" "),r("h3",[e._v(e._s(e.message||"请登录后重新访问"))]),e._v(" "),r("button",{staticClass:"back",on:{click:e.handleLogin}},[e._v("\n        登录\n      ")])]):403===e.statusCode?r("div",{attrs:{id:"error-403"}},[r("img",{attrs:{src:n(157),alt:"error-403"}}),e._v(" "),r("h3",[e._v(e._s(e.message||"您没有权限访问该页面"))]),e._v(" "),r("a",{staticClass:"back",attrs:{href:"/"}},[e._v("回到首页")])]):404===e.statusCode?r("div",{attrs:{id:"error-404"}},[r("img",{attrs:{src:n(237),alt:"error-404"},on:{click:e.toastMessage}}),e._v(" "),r("h3",[e._v("您要找的页面不存在")]),e._v(" "),r("div",{staticClass:"subtitle"},[e._v("\n        不存在的内容，或者正在审核中。\n      ")]),e._v(" "),r("NLink",{staticClass:"back only-h5",attrs:{to:"/app/found"}},[e._v("\n        返回首页\n      ")]),e._v(" "),r("NLink",{staticClass:"back only-pc",attrs:{to:"/"}},[e._v("\n        返回首页\n      ")])],1):e.statusCode>=500?r("div",{attrs:{id:"error-500"}},[r("img",{attrs:{src:n(157),alt:"error-500"},on:{click:e.toastMessage}}),e._v(" "),r("h3",[e._v("服务器出错了")]),e._v(" "),r("div",{staticClass:"subtitle"},[e._v("\n        服务器出了点问题，工程师正在加紧抢修ヽ( ° ▽°)ノ\n      ")]),e._v(" "),r("NLink",{staticClass:"back",attrs:{to:"/"}},[e._v("\n        返回首页\n      ")])],1):e._e()])],1)}),[],!1,null,null,null).exports,C=(n(15),n(51),n(52),n(19),{name:"Nuxt",components:{NuxtChild:O,NuxtError:k},props:{nuxtChildKey:{type:String,default:void 0},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0},name:{type:String,default:"default"}},errorCaptured(e){this.displayingNuxtError&&(this.errorFromNuxtError=e,this.$forceUpdate())},computed:{routerViewKey(){if(void 0!==this.nuxtChildKey||this.$route.matched.length>1)return this.nuxtChildKey||Object(y.b)(this.$route.matched[0].path)(this.$route.params);var[e]=this.$route.matched;if(!e)return this.$route.path;var t=e.components.default;if(t&&t.options){var{options:n}=t;if(n.key)return"function"==typeof n.key?n.key(this.$route):n.key}return/\/$/.test(e.path)?this.$route.path:this.$route.path.replace(/\/$/,"")}},beforeCreate(){c.default.util.defineReactive(this,"nuxt",this.$root.$options.nuxt)},render(e){return this.nuxt.err?this.errorFromNuxtError?(this.$nextTick(()=>this.errorFromNuxtError=!1),e("div",{},[e("h2","An error occured while showing the error page"),e("p","Unfortunately an error occured and while showing the error page another error occured"),e("p","Error details: ".concat(this.errorFromNuxtError.toString())),e("nuxt-link",{props:{to:"/"}},"Go back to home")])):(this.displayingNuxtError=!0,this.$nextTick(()=>this.displayingNuxtError=!1),e(k,{props:{error:this.nuxt.err}})):e("NuxtChild",{key:this.routerViewKey,props:this.$props})}}),T=(n(208),{name:"NuxtLoading",data:()=>({percent:0,show:!1,canSucceed:!0,reversed:!1,skipTimerCount:0,rtl:!1,throttle:200,duration:5e3,continuous:!1}),computed:{left(){return!(!this.continuous&&!this.rtl)&&(this.rtl?this.reversed?"0px":"auto":this.reversed?"auto":"0px")}},beforeDestroy(){this.clear()},methods:{clear(){clearInterval(this._timer),clearTimeout(this._throttle),this._timer=null},start(){return this.clear(),this.percent=0,this.reversed=!1,this.skipTimerCount=0,this.canSucceed=!0,this.throttle?this._throttle=setTimeout(()=>this.startTimer(),this.throttle):this.startTimer(),this},set(e){return this.show=!0,this.canSucceed=!0,this.percent=Math.min(100,Math.max(0,Math.floor(e))),this},get(){return this.percent},increase(e){return this.percent=Math.min(100,Math.floor(this.percent+e)),this},decrease(e){return this.percent=Math.max(0,Math.floor(this.percent-e)),this},pause(){return clearInterval(this._timer),this},resume(){return this.startTimer(),this},finish(){return this.percent=this.reversed?0:100,this.hide(),this},hide(){return this.clear(),setTimeout(()=>{this.show=!1,this.$nextTick(()=>{this.percent=0,this.reversed=!1})},500),this},fail(){return this.canSucceed=!1,this},startTimer(){this.show||(this.show=!0),void 0===this._cut&&(this._cut=1e4/Math.floor(this.duration)),this._timer=setInterval(()=>{this.skipTimerCount>0?this.skipTimerCount--:(this.reversed?this.decrease(this._cut):this.increase(this._cut),this.continuous&&(this.percent>=100?(this.skipTimerCount=1,this.reversed=!this.reversed):this.percent<=0&&(this.skipTimerCount=1,this.reversed=!this.reversed)))},100)}},render(e){var t=e(!1);return this.show&&(t=e("div",{staticClass:"nuxt-progress",class:{"nuxt-progress-notransition":this.skipTimerCount>0,"nuxt-progress-failed":!this.canSucceed},style:{width:this.percent+"%",left:this.left}})),t}}),P=(n(243),Object(E.a)(T,void 0,void 0,!1,null,null,null).exports),N=(n(244),n(245),n(246),{_app:()=>n.e(10).then(n.bind(null,683)).then(e=>e.default||e),_default:()=>n.e(11).then(n.bind(null,685)).then(e=>e.default||e),_web:()=>Promise.all([n.e(69),n.e(6),n.e(12)]).then(n.bind(null,636)).then(e=>e.default||e)}),R={},A={head:{titleTemplate:function(e){return e?"".concat(e," - ").concat("咔哩吧 (｡･∀･)ﾉﾞ 你开心就好~~calibur"):"".concat("咔哩吧 (｡･∀･)ﾉﾞ 你开心就好~~calibur")},meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, viewport-fit=cover"},{name:"theme-color",content:"#ffffff"},{name:"format-detection",content:"telephone=no,email=no,address=no"},{name:"applicable-device",content:"pc,mobile"},{name:"renderer",content:"webkit|ie-comp|ie-stand"},{name:"force-rendering",content:"webkit"},{"http-equiv":"X-UA-Compatible",content:"IE=edge,chrome=1"},{hid:"description",name:"description",content:"",template:e=>e?"".concat(e,",").concat("咔哩吧是一个二次元社区"):"".concat("咔哩吧是一个二次元社区")},{hid:"keywords",name:"keywords",content:"",template:e=>e?"".concat(e,",").concat("C站,calibur,咔哩吧,ACG,二次元,垂直社区,兴趣社交"):"".concat("C站,calibur,咔哩吧,ACG,二次元,垂直社区,兴趣社交")}],link:[{rel:"dns-prefetch",href:"https://file.calibur.tv"},{rel:"dns-prefetch",href:"https://m1.calibur.tv"},{rel:"preconnect",href:"https://www.calibur.tv"},{rel:"preconnect",href:"https://api.calibur.tv"},{rel:"icon",type:"image/x-icon",href:"https://file.calibur.tv/favicon.ico"}],bodyAttrs:{id:"calibur"},script:[{src:"https://polyfill.alicdn.com/polyfill.min.js",type:"text/javascript"},{innerHTML:'var _hmt=_hmt||[];(function (){var hm=document.createElement("script");hm.src="https://hm.baidu.com/hm.js?c10304a2f70ee2ddf8d2818551d37a4b";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s)})();',type:"text/javascript",async:!0},{innerHTML:"(function(){var bp=document.createElement('script');var curProtocol=window.location.protocol.split(':')[0];if(curProtocol==='https'){bp.src='https://zz.bdstatic.com/linksubmit/push.js'}else{bp.src='http://push.zhanzhang.baidu.com/push.js'}var s=document.getElementsByTagName(\"script\")[0];s.parentNode.insertBefore(bp,s)})();",type:"text/javascript",async:!0},{src:"//qzonestyle.gtimg.cn/qzone/qzact/common/share/share.js",type:"text/javascript",async:!0},{src:"//qqq.gtimg.cn/miniprogram/webview_jssdk/qqjssdk-1.0.0.js",type:"text/javascript"},{src:"//res2.wx.qq.com/open/js/jweixin-1.4.0.js",type:"text/javascript",async:!0}],__dangerouslyDisableSanitizers:["script"],style:[]},render(e,t){var n=e("NuxtLoading",{ref:"loading"});if(this.nuxt.err&&k){var r=(k.options||k).layout;r&&this.setLayout("function"==typeof r?r.call(k,this.context):r)}var o=e(this.layout||"nuxt"),c=e("div",{domProps:{id:"__layout"},key:this.layoutName},[o]),l=e("transition",{props:{name:"layout",mode:"out-in"},on:{beforeEnter(e){window.$nuxt.$nextTick(()=>{window.$nuxt.$emit("triggerScroll")})}}},[c]);return e("div",{domProps:{id:"__nuxt"}},[n,l])},data:()=>({isOnline:!0,layout:null,layoutName:""}),beforeCreate(){c.default.util.defineReactive(this,"nuxt",this.$options.nuxt)},created(){c.default.prototype.$nuxt=this,window.$nuxt=this,this.refreshOnlineStatus(),window.addEventListener("online",this.refreshOnlineStatus),window.addEventListener("offline",this.refreshOnlineStatus),this.error=this.nuxt.error,this.context=this.$options.context},mounted(){this.$loading=this.$refs.loading},watch:{"nuxt.err":"errorChanged"},computed:{isOffline(){return!this.isOnline}},methods:{refreshOnlineStatus(){void 0===window.navigator.onLine?this.isOnline=!0:this.isOnline=window.navigator.onLine},refresh(){var e=this;return Object(r.a)((function*(){var t=Object(y.f)(e.$route);if(t.length){e.$loading.start();var n=t.map(t=>{var p=[];return t.$options.fetch&&p.push(Object(y.l)(t.$options.fetch,e.context)),t.$options.asyncData&&p.push(Object(y.l)(t.$options.asyncData,e.context).then(e=>{for(var n in e)c.default.set(t.$data,n,e[n])})),Promise.all(p)});try{yield Promise.all(n)}catch(t){e.$loading.fail(),Object(y.h)(t),e.error(t)}e.$loading.finish()}}))()},errorChanged(){this.nuxt.err&&this.$loading&&(this.$loading.fail&&this.$loading.fail(),this.$loading.finish&&this.$loading.finish())},setLayout(e){e&&R["_"+e]||(e="default"),this.layoutName=e;var t="_"+e;return this.layout=R[t],this.layout},loadLayout(e){var t=!e,n=!(N["_"+e]||R["_"+e]),r="_"+(t||n?"default":e);return R[r]?Promise.resolve(R[r]):N[r]().then(e=>(R[r]=e,delete N[r],R[r])).catch(e=>{if(this.$nuxt)return this.$nuxt.error({statusCode:500,message:e.message})})}},components:{NuxtLoading:P}},L=(n(54),n(116));c.default.use(L.a);var M=["state","getters","actions","mutations"],I={};(I=function(e,t){if((e=e.default||e).commit)throw new Error("[nuxt] ".concat(t," should export a method that returns a Vuex instance."));return"function"!=typeof e&&(e=Object.assign({},e)),U(e,t)}(n(247),"store/index.js")).modules=I.modules||{},B(n(248),"flow.js"),B(n(249),"global.js"),B(n(250),"social.js");var D=I instanceof Function?I:()=>new L.a.Store(Object.assign({strict:!1},I));function U(e,t){if(e.state&&"function"!=typeof e.state){console.warn("'state' should be a method that returns an object in ".concat(t));var n=Object.assign({},e.state);e=Object.assign({},e,{state:()=>n})}return e}function B(e,t){e=e.default||e;var n=t.replace(/\.(js|mjs)$/,"").split("/"),r=n[n.length-1],o="store/".concat(t);if(e="state"===r?function(e,t){if("function"!=typeof e){console.warn("".concat(t," should export a method that returns an object"));var n=Object.assign({},e);return()=>n}return U(e,t)}(e,o):U(e,o),M.includes(r)){var c=r;F(z(I,n,{isProperty:!0}),e,c)}else{"index"===r&&(n.pop(),r=n[n.length-1]);var l=z(I,n);for(var h of M)F(l,e[h],h);!1===e.namespaced&&delete l.namespaced}}function z(e,t){var{isProperty:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.length||n&&1===t.length)return e;var r=t.shift();return e.modules[r]=e.modules[r]||{},e.modules[r].namespaced=!0,e.modules[r].modules=e.modules[r].modules||{},z(e.modules[r],t,{isProperty:n})}function F(e,t,n){t&&("state"===n?e.state=t||e.state:e[n]=Object.assign({},e[n],t))}var G=n(39),H=n.n(G),K=n(185),W=n.n(K),J={setBaseURL(e){this.defaults.baseURL=e},setHeader(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common";for(var r of Array.isArray(n)?n:[n]){if(!t)return void delete this.defaults.headers[r][e];this.defaults.headers[r][e]=t}},setToken(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common",r=e?(t?t+" ":"")+e:null;this.setHeader("Authorization",r,n)},onRequest(e){this.interceptors.request.use(t=>e(t)||t)},onResponse(e){this.interceptors.response.use(t=>e(t)||t)},onRequestError(e){this.interceptors.request.use(void 0,t=>e(t)||Promise.reject(t))},onResponseError(e){this.interceptors.response.use(void 0,t=>e(t)||Promise.reject(t))},onError(e){this.onRequestError(e),this.onResponseError(e)},create(e){return X(W()(e,this.defaults))}},V=function(e){J["$"+e]=function(){return this[e].apply(this,arguments).then(e=>e&&e.data)}};for(var Q of["request","delete","get","head","options","post","put","patch"])V(Q);var X=e=>{var t=H.a.create(e);return t.CancelToken=H.a.CancelToken,t.isCancel=H.a.isCancel,(e=>{for(var t in J)e[t]=J[t].bind(e)})(t),t},Y=(e,t)=>{var n={baseURL:"http://localhost:3000/",headers:{common:{Accept:"application/json, text/plain, */*"},delete:{},get:{},head:{},post:{},put:{},patch:{}}};n.headers.common=e.req&&e.req.headers?Object.assign({},e.req.headers):{},delete n.headers.common.accept,delete n.headers.common.host,delete n.headers.common["cf-ray"],delete n.headers.common["cf-connecting-ip"],delete n.headers.common["content-length"],delete n.headers.common["content-md5"],delete n.headers.common["content-type"];var r=X(n);e.$axios=r,t("axios",r)},Z=n(60),ee=e=>{var{$axios:t,app:n}=e,r="undefined"!=typeof window;t.setToken(Object(Z.a)(n),"Bearer"),t.onRequest(e=>{e.baseURL=r?"https://api.calibur.tv/":"http://localhost/",e.timeout=1e4}),t.onResponse(e=>e.data),t.onError(e=>{var t=(e=>{var t={};return/timeout of/.test(e.message)?(t.statusCode=504,t.message="网络请求超时，请重试！",t):e.response?(t.statusCode=e.response.status,t.message=e.response.data.message||"发生错误了，请稍后再试！","string"!=typeof t.message&&(t.message="网络错误，请重试！"),t):(t.statusCode=502,t.message="网络错误，请重试！",t)})(e);return Promise.reject(t)})},input=n(56),te=n.n(input),ne=n(117),re=n.n(ne),ae=n(118),oe=n.n(ae),se=n(113),ie=n.n(se),col=n(119),ce=n.n(col),ue=n(120),le=n.n(ue),he=n(72),de=n.n(he),pe=n(121),me=n.n(pe),fe=(n(300),n(49)),ge=n.n(fe),ve=n(74),be=n(17),ye={install(e,t){if(!e.prototype.$isServer){var n=[],r=t||{preload:1},o=window.screen.width<=768;e.directive("lazyload",{bind(e,t){t.arg&&"pc"===t.arg&&o||n.push({el:e,handler:t.value})},inserted(){h()},update(){h()},unbind(e){c(e)}});var c=e=>{for(var i=0,t=n.length;i<t;i++)if(n[i]&&n[i].el===e){n.splice(i,1);break}},l=e=>{c(e),e.handler()},h=Object(ve.b)(200,()=>n.filter(e=>e&&Object(be.checkInView)(e.el,r.preload)).map(l));["scroll","resize","load"].forEach(e=>{window.addEventListener(e,()=>{h()})})}}},we=(e,t)=>{var n=[];for(var p in t)null!=t[p]&&n.push(p+"="+encodeURIComponent(t[p]));var r=e+n.join("&");return window.open(r,"","width=760, height=640, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no"),!1},_e={install(e){e.directive("share",{bind(e,t){e.vtype=Object.keys(t.modifiers)[0],e.options=t.value||{},e.addEventListener("click",()=>{((e,t)=>{switch(e){case"weibo":we("https://service.weibo.com/share/share.php?",{url:t.url,type:"3",count:"1",appkey:t.appkey.weibo,title:t.title+t.weiboTag,pic:t.pic[0],searchPic:t.searchPic,ralateUid:"",language:"zh_cn",rnd:(new Date).valueOf()});break;case"qzone":we("https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?",{url:t.url,showcount:1,desc:t.desc,summary:t.summary,title:t.shortTitle,site:"咔哩吧",pics:t.pic,style:"203",width:98,height:22});break;case"qq":we("https://connect.qq.com/widget/shareqq/index.html?",{url:t.url,desc:t.desc,title:t.title,summary:t.summary,pics:t.pic,flash:"",site:"",style:"201",width:32,height:32});break;case"tieba":we("https://tieba.baidu.com/f/commit/share/openShareApi?",{title:t.title,url:t.url,uid:726865,to:"tieba",type:"text",relateUid:"",pic:t.pic[0],key:"",sign:"on",desc:"",comment:t.desc});break;default:throw new Error("This type is not defined.")}})(e.vtype,Object.assign({title:document.title,url:location.href,desc:"",pic:"",summary:"",shortTitle:"",searchPic:!1,appkey:{weibo:""},weiboTag:"",tp_id:0,aid:""},e.options))},!1)},update(e,t){e.vtype=Object.keys(t.modifiers)[0],e.options=t.value||{}}})}},xe=(n(301),n(33),{name:"VImg",props:{src:{type:String,required:!0},def:{type:String,default:""},alt:{type:String,default:""},width:{type:[String,Number],default:""},height:{type:[String,Number],default:""},radius:{type:String,default:""},stretched:{type:Boolean,default:!1},blur:{type:Boolean,default:!1}},data(){var{def:e,width:t}=this,n=e?e.startsWith("http")?e:"https://m1.calibur.tv/".concat(e):"",r="number"==typeof t&&"number"==typeof this.height&&!this.radius;return{show:n,source:n,isFull:r,useBlur:!!r||this.blur,isLarge:t.toString().endsWith("%"),extraStyle:{},animate:!1}},computed:{style(){var style={},{width:e,height:t,radius:n,isFull:r,isLarge:o}=this;return r?(style.paddingTop="".concat(t/e*100,"%"),style):(e&&!o&&(style.width="".concat(e,"px")),t&&(style.height="".concat(t,"px")),n&&(style.borderRadius=n),style)}},methods:{handle(){var{src:e,isFull:t,isLarge:n}=this,r=n?2:1,{width:o,height:c}=this;if(t){var l=window.screen.width<=768?420:660;o>l&&(c=parseInt(l/o*c,10),o=l),c>9999&&(o=parseInt(9999/c*o,10),c=9999),o<this.$el.clientWidth&&!this.stretched&&(this.extraStyle={width:"".concat(o,"px"),height:"".concat(c,"px"),paddingTop:"0px"})}n&&(o=parseInt(o.slice(0,-1)/100*this.$el.clientWidth,10)),o=parseInt(o,10),c=parseInt(c,10),this.show=this.$resize(e,{width:o,height:c,mode:r,webP:!1}),this.source=this.$resize(e,{width:o,height:c,mode:r})},loaded(){this.useBlur&&(this.animate=!0)}}}),Oe=(n(302),Object(E.a)(xe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("picture",{directives:[{name:"lazyload",rawName:"v-lazyload",value:e.handle,expression:"handle"}],staticClass:"img",class:{"is-full":e.isFull,"is-blur":e.useBlur,"show-animate":e.animate},style:[e.style,e.extraStyle]},[n("source",{attrs:{srcset:e.source,type:"image/webp"}}),e._v(" "),n("img",{attrs:{src:e.show,alt:e.alt,"origin-src":e.src},on:{load:e.loaded}})])}),[],!1,null,null,null).exports);c.default.use(ye),c.default.use(_e),c.default.component(Oe.name,Oe),c.default.component(me.a.name,me.a),c.default.component(ge.a.FlowLoader.name,ge.a.FlowLoader),c.default.component(de.a.name,de.a),c.default.component(le.a.name,le.a),c.default.component(ce.a.name,ce.a),c.default.component(ie.a.name,ie.a),c.default.component(oe.a.name,oe.a),c.default.component(re.a.name,re.a),c.default.component(te.a.name,te.a);var $e={sign(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"/sign?redirect=".concat(encodeURIComponent(e||("undefined"==typeof window?"/":window.location.href)))},tag(e){var path=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"/tag/".concat(e,"/").concat(path)},user(e){var path=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"timeline";return"/user/".concat(e,"/").concat(path)},pin:e=>"/pin/".concat(e),create:e=>e?"/write?slug=".concat(e):"/write"},Se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"";if(/imageMogr2/.test(e))return e;var n,r,link=e.startsWith("http")?e:"https://m1.calibur.tv/".concat(e),o=()=>{if("undefined"==typeof window)return!1;if(void 0!==window.supportWebP)return window.supportWebP;var e=document.createElement("canvas");if(e.getContext&&e.getContext("2d")){var t=0===e.toDataURL("image/webp").indexOf("data:image/webp");return window.supportWebP=t,t}return!1},c=!1===t.webP?"":o()?"/format/webp":"",l=void 0===t.mode?1:t.mode;if(1===l&&!t.width||!t.width&&!t.height)return"".concat(link,"?imageMogr2/auto-orient/strip").concat(c);var h=()=>{if("undefined"==typeof window)return 2;if(void 0!==window.computedRadio)return window.computedRadio;var e=window.devicePixelRatio;return window.computedRadio=e,e},d=h();return 1===l?(n="/w/".concat(t.width*d|0),r=t.height?"/h/".concat(t.height*d|0):"/h/".concat(t.width*d|0)):(n=t.width?"/w/".concat(t.width*d|0):"",r=t.height?"/h/".concat(t.height*d|0):""),"".concat(link,"?imageMogr2/auto-orient/strip|imageView2/").concat(l).concat(n).concat(r).concat(c)},je=e=>{var{store:t}=e;c.default.use({install(e){e.prototype.$alias=$e,e.prototype.$utils=be,e.prototype.$resize=Se,e.prototype.$hasRole=t.getters.hasRole,e.prototype.$isMine=t.getters.isMine}})},Ee=n(186),ke=n.n(Ee),Ce=(n(303),n(122)),Te=n.n(Ce),Pe=n(79),Ne=n.n(Pe),Re=(n(307),n(80)),Ae=n.n(Re),Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;return new Promise(t=>{setTimeout(t,e)})},Me={data:()=>({handler:{},events:{}}),methods:{socketConnect(){this.$connect()},socketDisconnect(){this.$disconnect()},send(data){this.$socket&&this.$socket.sendObj(data)},$when(e,t){this.events[e]?t(this.events[e]):this.handler[e]?this.handler[e].push(t):this.handler[e]=[t]},$fire(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.events[e]||(this.events[e]=t,this.handler[e]&&this.handler[e].forEach(e=>e(t)))}}},Ie=n(38),qe=window.screen.width<=768;c.default.use({install(e){e.prototype.$cookie=ke.a,e.prototype.$channel=new e(Me),e.prototype.$toast=new class{constructor(e){this.isMobile=e}error(e){this.stop();var time,text="";return"object"==typeof e?(text=e.tip,time=e.time||1500):(text=e,time=1500),this.isMobile?Ae()({duration:time,message:text||"操作失败",iconClass:"iconfont icon-cuowuhttp"}):Ne.a.error(text),Le(time)}success(e){this.stop();var time,text="操作成功";return"object"==typeof e?(text=e.tip,time=e.time||1500):(text=e,time=1500),this.isMobile?Ae()({duration:time,message:text,iconClass:"iconfont icon-caozuochenggong"}):Ne.a.success(text),Le(time)}info(e){this.stop();var time,text="操作成功";return"object"==typeof e?(text=e.tip,time=e.time||1500):(text=e,time=1500),this.isMobile?Ae()({duration:time,message:text}):Ne.a.info(text),Le(time)}loading(e){this.stop();var time,t="";if("object"==typeof e?(t=e.tip,time=e.time):t=e,Te.a.open({text:t||"加载中…",spinnerType:"triple-bounce"}),time)return Le(time).then(()=>this.stop())}stop(){Te.a.close()}}(qe),e.prototype.$cache=Ie}});n(308);var De=n(81),Ue=n.n(De),Be=(n(133),e=>{if(/mqqbrowser|qq|micromessenger/.test((window.navigator.userAgent||"").toLowerCase())){var t=/qq/.test((window.navigator.userAgent||"").toLowerCase());H.a.get("".concat("https://api.calibur.tv/","v1/door/oauth2/ticket"),{params:{url:e,isQQ:t}}).then(e=>{var n=e.data.data;t?new class{constructor(e){this.config=e}init(){"undefined"!=typeof window&&void 0!==window.setShareInfo&&setShareInfo({title:this.getShareTitle(),summary:this.getShareDesc(),pic:this.getShareImage(),url:this.getShareLink(),WXconfig:{swapTitleInWX:!0,appId:this.config.appId,nonceStr:this.config.nonceStr,timestamp:this.config.timestamp,signature:this.config.signature}})}getShareTitle(){return this.shareData().title}getShareLink(){return this.shareData().link}getShareDesc(){return this.shareData().desc}getShareImage(){return this.shareData().image}shareData(){var image=document.querySelector("[name=share-image]");return{link:window.location.href,title:document.title,desc:document.querySelector("[name=description]").content,image:image?"".concat(image.content.startsWith("http")?image.content:"https://m1.calibur.tv/".concat(image.content),"-sharejpg120"):"http://m1.calibur.tv/default-poster-sharejpg120"}}}(n).init():new class{constructor(e){this.config=e}init(){"undefined"!=typeof window&&void 0!==window.wx&&(wx.config({debug:!1,appId:this.config.appId,nonceStr:this.config.nonceStr,timestamp:this.config.timestamp,signature:this.config.signature,jsApiList:["previewImage","onMenuShareTimeline","onMenuShareAppMessage","updateTimelineShareData","updateAppMessageShareData"]}),wx.ready(()=>{var e=[];[].forEach.call(document.querySelectorAll(".is-full"),t=>{var image=t.querySelector("img");if(image){var n=image.getAttribute("origin-src");n.match(/^\/\//)&&(n="http:".concat(n)),e.push(n),t.addEventListener("click",()=>{wx.previewImage({current:n,urls:e})})}}),wx.updateTimelineShareData({title:this.getShareTitle(),link:this.getShareLink(),imgUrl:this.getShareImage(),success:()=>{}}),wx.updateAppMessageShareData({title:this.getShareTitle(),desc:this.getShareDesc(),link:this.getShareLink(),imgUrl:this.getShareImage(),type:"link",success:()=>{}}),wx.onMenuShareTimeline({title:this.getShareTitle(),link:this.getShareLink(),imgUrl:this.getShareImage(),success:()=>{}}),wx.onMenuShareAppMessage({title:this.getShareTitle(),desc:this.getShareDesc(),link:this.getShareLink(),imgUrl:this.getShareImage(),type:"link",success:()=>{}})}))}getShareTitle(){return this.shareData().title}getShareLink(){return this.shareData().link}getShareDesc(){return this.shareData().desc}getShareImage(){return this.shareData().image}shareData(){var image=document.querySelector("[name=share-image]");return{link:window.location.href,title:document.title,desc:document.querySelector("[name=description]").content,image:image?"".concat(image.content.startsWith("http")?image.content:"https://m1.calibur.tv/".concat(image.content),"-sharejpg120"):"http://m1.calibur.tv/default-poster-sharejpg120"}}}(n).init()}).catch(()=>{})}});window.screen.width<=768&&(c.default.use({install(e){e.prototype.$alert=Ue.a.alert,e.prototype.$confirm=Ue.a.confirm,e.prototype.$prompt=Ue.a.prompt}}),Be(window.location.href));var ze=n(82),Fe=n.n(ze);window.screen.width<=768||c.default.use({install(e){e.prototype.$alert=Fe.a.alert,e.prototype.$confirm=Fe.a.confirm,e.prototype.$prompt=Fe.a.prompt}});var Ge=n(187),He=n.n(Ge),Ke=e=>{var{store:t}=e;c.default.use(He.a,"".concat("wss://api.calibur.tv/ws","?token=").concat(Object(Z.a)()),{connectManually:!0,reconnection:!1,reconnectionAttempts:12,reconnectionDelay:5e3,store:t,format:"json"})},We=e=>{var{app:t}=e;t.router.afterEach((e,t)=>{t&&t.name&&(window._hmt&&_hmt.push(["_trackPageview",e.fullPath]),Be(window.location.origin+e.fullPath))})};function Je(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Ve(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Je(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Je(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}n.d(t,"b",(function(){return Xe})),n.d(t,"a",(function(){return k})),c.default.component(d.a.name,d.a),c.default.component(f.a.name,Ve({},f.a,{render:(e,t)=>(f.a._warned||(f.a._warned=!0,console.warn("<no-ssr> has been deprecated and will be removed in Nuxt 3, please use <client-only> instead")),f.a.render(e,t))})),c.default.component(O.name,O),c.default.component("NChild",O),c.default.component(C.name,C),c.default.use(l.a,{keyName:"head",attribute:"data-n-head",ssrAttribute:"data-n-head-ssr",tagIDKeyName:"hid"});var Qe={name:"page",mode:"out-in",appear:!1,appearClass:"appear",appearActiveClass:"appear-active",appearToClass:"appear-to"};function Xe(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(r.a)((function*(e){var t=yield new v.a(x),n=D(e);n.$router=t;var r=n.registerModule;n.registerModule=(path,e,t)=>r.call(n,path,e,Object.assign({preserveState:!0},t));var o=Ve({store:n,router:t,nuxt:{defaultTransition:Qe,transitions:[Qe],setTransitions(e){return Array.isArray(e)||(e=[e]),e=e.map(e=>e=e?"string"==typeof e?Object.assign({},Qe,{name:e}):Object.assign({},Qe,e):Qe),this.$options.nuxt.transitions=e,e},err:null,dateErr:null,error(t){t=t||null,o.context._errored=Boolean(t),t=t?Object(y.k)(t):null;var n=this.nuxt||this.$options.nuxt;return n.dateErr=Date.now(),n.err=t,e&&(e.nuxt.error=t),t}}},A);n.app=o;var l,h=e?e.next:e=>o.router.push(e);if(e)l=t.resolve(e.url).route;else{var path=Object(y.d)(t.options.base,t.options.mode);l=t.resolve(path).route}yield Object(y.o)(o,{store:n,route:l,next:h,error:o.nuxt.error.bind(o),payload:e?e.payload:void 0,req:e?e.req:void 0,res:e?e.res:void 0,beforeRenderFns:e?e.beforeRenderFns:void 0,ssrContext:e});var d=function(e,t){if(!e)throw new Error("inject(key, value) has no key provided");if(void 0===t)throw new Error("inject(key, value) has no value provided");o[e="$"+e]=t,n[e]=o[e];var r="__nuxt_"+e+"_installed__";c.default[r]||(c.default[r]=!0,c.default.use(()=>{Object.prototype.hasOwnProperty.call(c.default,e)||Object.defineProperty(c.default.prototype,e,{get(){return this.$root.$options[e]}})}))};return window.__NUXT__&&window.__NUXT__.state&&n.replaceState(window.__NUXT__.state),"function"==typeof Y&&(yield Y(o.context,d)),"function"==typeof ee&&(yield ee(o.context,d)),"function"==typeof je&&(yield je(o.context,d)),"function"==typeof Ke&&(yield Ke(o.context,d)),"function"==typeof We&&(yield We(o.context,d)),{store:n,app:o,router:t}}))).apply(this,arguments)}},184:function(e,t){},210:function(e,t,n){e.exports=n(211)},211:function(e,t,n){"use strict";n.r(t),function(e){n(15),n(31),n(9),n(55),n(133),n(19);var t=n(2),r=n(1),o=n(180),c=n(114),l=n(0),h=n(18),d=n(83);r.default.component(d.a.name,d.a),r.default.component("NLink",d.a),e.fetch||(e.fetch=o.a);var m,f,v=[],y=window.__NUXT__||{};Object.assign(r.default.config,{silent:!0,performance:!1});var w=r.default.config.errorHandler||console.error;function _(e,t,n){var r=component=>{var e=function(component,e){if(!component||!component.options||!component.options[e])return{};var option=component.options[e];if("function"==typeof option){for(var t=arguments.length,n=new Array(t>2?t-2:0),r=2;r<t;r++)n[r-2]=arguments[r];return option(...n)}return option}(component,"transition",t,n)||{};return"string"==typeof e?{name:e}:e};return e.map(e=>{var t=Object.assign({},r(e));if(n&&n.matched.length&&n.matched[0].components.default){var o=r(n.matched[0].components.default);Object.keys(o).filter(e=>o[e]&&e.toLowerCase().includes("leave")).forEach(e=>{t[e]=o[e]})}return t})}function x(e,t,n){return O.apply(this,arguments)}function O(){return(O=Object(t.a)((function*(e,t,n){this._pathChanged=Boolean(m.nuxt.err)||t.path!==e.path,this._queryChanged=JSON.stringify(e.query)!==JSON.stringify(t.query),this._diffQuery=this._queryChanged?Object(l.g)(e.query,t.query):[],this._pathChanged&&this.$loading.start&&!this.$loading.manual&&this.$loading.start();try{if(!this._pathChanged&&this._queryChanged)(yield Object(l.m)(e,(e,t)=>({Component:e,instance:t}))).some(n=>{var{Component:r,instance:o}=n,c=r.options.watchQuery;return!0===c||(Array.isArray(c)?c.some(e=>this._diffQuery[e]):"function"==typeof c&&c.apply(o,[e.query,t.query]))})&&this.$loading.start&&!this.$loading.manual&&this.$loading.start();n()}catch(l){var r=l||{},o=r.statusCode||r.status||r.response&&r.response.status||500,c=r.message||"";if(/^Loading( CSS)? chunk (\d)+ failed\./.test(c))return void window.location.reload(!0);this.error({statusCode:o,message:c}),this.$nuxt.$emit("routeChanged",e,t,r),n()}}))).apply(this,arguments)}function $(e){var path=Object(l.d)(e.options.base,e.options.mode);return Object(l.c)(e.match(path),function(){var e=Object(t.a)((function*(e,t,n,r,o){"function"!=typeof e||e.options||(e=yield e());var c=function(e,t){return y.serverRendered&&t&&Object(l.a)(e,t),e._Ctor=e,e}(Object(l.n)(e),y.data?y.data[o]:null);return n.components[r]=c,c}));return function(t,n,r,o,c){return e.apply(this,arguments)}}())}function S(e,t,n){var r=[],o=!1;if(void 0!==n&&(r=[],(n=Object(l.n)(n)).options.middleware&&(r=r.concat(n.options.middleware)),e.forEach(e=>{e.options.middleware&&(r=r.concat(e.options.middleware))})),r=r.map(e=>"function"==typeof e?e:("function"!=typeof c.a[e]&&(o=!0,this.error({statusCode:500,message:"Unknown middleware "+e})),c.a[e])),!o)return Object(l.j)(r,t)}function j(e,t,n){return E.apply(this,arguments)}function E(){return(E=Object(t.a)((function*(e,t,n){if(!1===this._pathChanged&&!1===this._queryChanged)return n();if(e===t)v=[];else{var r=[];v=Object(l.e)(t,r).map((e,i)=>Object(l.b)(t.matched[r[i]].path)(t.params))}var o=!1;yield Object(l.o)(m,{route:e,from:t,next:(path=>{t.path===path.path&&this.$loading.finish&&this.$loading.finish(),t.path!==path.path&&this.$loading.pause&&this.$loading.pause(),o||(o=!0,n(path))}).bind(this)}),this._dateLastError=m.nuxt.dateErr,this._hadError=Boolean(m.nuxt.err);var c=[],d=Object(l.e)(e,c);if(!d.length){if(yield S.call(this,d,m.context),o)return;var f=(h.a.options||h.a).layout,y=yield this.loadLayout("function"==typeof f?f.call(h.a,m.context):f);if(yield S.call(this,d,m.context,y),o)return;return m.context.error({statusCode:404,message:"This page could not be found"}),n()}d.forEach(e=>{e._Ctor&&e._Ctor.options&&(e.options.asyncData=e._Ctor.options.asyncData,e.options.fetch=e._Ctor.options.fetch)}),this.setTransitions(_(d,e,t));try{if(yield S.call(this,d,m.context),o)return;if(m.context._errored)return n();var w=d[0].options.layout;if("function"==typeof w&&(w=w(m.context)),w=yield this.loadLayout(w),yield S.call(this,d,m.context,w),o)return;if(m.context._errored)return n();var x,O=!0;try{for(var $ of d)if("function"==typeof $.options.validate&&!(O=yield $.options.validate(m.context)))break}catch(e){return this.error({statusCode:e.statusCode||"500",message:e.message}),n()}if(!O)return this.error({statusCode:404,message:"This page could not be found"}),n();yield Promise.all(d.map((n,i)=>{if(n._path=Object(l.b)(e.matched[c[i]].path)(e.params),n._dataRefresh=!1,this._pathChanged&&this._queryChanged||n._path!==v[i])n._dataRefresh=!0;else if(!this._pathChanged&&this._queryChanged){var r=n.options.watchQuery;!0===r?n._dataRefresh=!0:Array.isArray(r)?n._dataRefresh=r.some(e=>this._diffQuery[e]):"function"==typeof r&&(x||(x=Object(l.f)(e)),n._dataRefresh=r.apply(x[i],[e.query,t.query]))}if(this._hadError||!this._isMounted||n._dataRefresh){var o=[],h=n.options.asyncData&&"function"==typeof n.options.asyncData,d=Boolean(n.options.fetch),f=h&&d?30:45;if(h){var y=Object(l.l)(n.options.asyncData,m.context).then(e=>{Object(l.a)(n,e),this.$loading.increase&&this.$loading.increase(f)});o.push(y)}if(this.$loading.manual=!1===n.options.loading,d){var p=n.options.fetch(m.context);p&&(p instanceof Promise||"function"==typeof p.then)||(p=Promise.resolve(p)),p.then(e=>{this.$loading.increase&&this.$loading.increase(f)}),o.push(p)}return Promise.all(o)}})),o||(this.$loading.finish&&!this.$loading.manual&&this.$loading.finish(),n())}catch(r){var j=r||{};if("ERR_REDIRECT"===j.message)return this.$nuxt.$emit("routeChanged",e,t,j);v=[],Object(l.h)(j);var E=(h.a.options||h.a).layout;"function"==typeof E&&(E=E(m.context)),yield this.loadLayout(E),this.error(j),this.$nuxt.$emit("routeChanged",e,t,j),n()}}))).apply(this,arguments)}function k(e,t){Object(l.c)(e,(e,t,n,o)=>("object"!=typeof e||e.options||((e=r.default.extend(e))._Ctor=e,n.components[o]=e),e))}function C(e){this._hadError&&this._dateLastError===this.$options.nuxt.dateErr&&this.error();var t=this.$options.nuxt.err?(h.a.options||h.a).layout:e.matched[0].components.default.options.layout;"function"==typeof t&&(t=t(m.context)),this.setLayout(t)}function T(e,t){if(!1!==this._pathChanged||!1!==this._queryChanged){var n=Object(l.f)(e),o=Object(l.e)(e);r.default.nextTick(()=>{n.forEach((e,i)=>{if(e&&!e._isDestroyed&&e.constructor._dataRefresh&&o[i]===e.constructor&&!0!==e.$vnode.data.keepAlive&&"function"==typeof e.constructor.options.data){var t=e.constructor.options.data.call(e);for(var n in t)r.default.set(e.$data,n,t[n]);window.$nuxt.$nextTick(()=>{window.$nuxt.$emit("triggerScroll")})}}),C.call(this,e)})}}function P(){return(P=Object(t.a)((function*(e){m=e.app,f=e.router,e.store;var t=new r.default(m),n=y.layout||"default";yield t.loadLayout(n),t.setLayout(n);var o=()=>{t.$mount("#__nuxt"),f.afterEach(k),f.afterEach(T.bind(t)),r.default.nextTick(()=>{!function(e){window.onNuxtReadyCbs.forEach(t=>{"function"==typeof t&&t(e)}),"function"==typeof window._onNuxtLoaded&&window._onNuxtLoaded(e),f.afterEach((t,n)=>{r.default.nextTick(()=>e.$nuxt.$emit("routeChanged",t,n))})}(t)})},c=yield Promise.all($(f));if(t.setTransitions=t.$options.nuxt.setTransitions.bind(t),c.length&&(t.setTransitions(_(c,f.currentRoute)),v=f.currentRoute.matched.map(e=>Object(l.b)(e.path)(f.currentRoute.params))),t.$loading={},y.error&&t.error(y.error),f.beforeEach(x.bind(t)),f.beforeEach(j.bind(t)),y.serverRendered)o();else{var h=()=>{k(f.currentRoute,f.currentRoute),C.call(t,f.currentRoute),o()};j.call(t,f.currentRoute,f.currentRoute,path=>{if(path){var e=f.afterEach((t,n)=>{e(),h()});f.push(path,void 0,e=>{e&&w(e)})}else h()})}}))).apply(this,arguments)}Object(h.b)().then((function(e){return P.apply(this,arguments)})).catch(w)}.call(this,n(25))},236:function(e,t,n){e.exports=n.p+"img/d465ab1.jpeg"},237:function(e,t,n){e.exports=n.p+"img/adea640.jpeg"},24:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"j",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return h})),n.d(t,"i",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return v})),n.d(t,"h",(function(){return y}));var r=e=>e.$axios.$post("v1/door/get_user_info"),o=(e,t)=>e.$axios.$post("v1/user/update_info",t),c=(e,t)=>{var{slug:n}=t;return e.$axios.$get("v1/user/show",{params:{slug:n}})},l=(e,t)=>{var{slug:n,phone:r,password:o,authCode:c}=t;return e.$axios.$post("v1/door/bind_phone",{slug:n,phone:r,password:o,authCode:c})},h=(e,t)=>{var{slug:n}=t;return e.$axios.$get("v1/message/total",{params:{slug:n},progress:!1})},d=(e,t)=>{var{phone_number:n,type:r,geetest:o}=t;return e.$axios.$post("v1/door/message",{phone_number:n,type:r,geetest:o})},m=(e,t)=>{var{access:n,secret:r,authCode:o,inviteCode:c}=t;return e.$axios.$post("v1/door/register",{access:n,secret:r,authCode:o,inviteCode:c})},f=(e,t)=>{var{access:n,secret:r,remember:o,geetest:c}=t;return e.$axios.$post("v1/door/login",{access:n,secret:r,remember:o,geetest:c})},v=e=>e.$axios.$post("v1/door/logout"),y=(e,t)=>{var{method:n,access:r,authCode:o,secret:c}=t;return e.$axios.$post("v1/door/reset_password",{method:n,access:r,authCode:o,secret:c})}},240:function(e,t,n){"use strict";var r=n(73);n.n(r).a},241:function(e,t,n){"use strict";var r=n(75);n.n(r).a},242:function(e,t,n){"use strict";var r=n(76);n.n(r).a},243:function(e,t,n){"use strict";var r=n(77);n.n(r).a},245:function(e,t,n){},246:function(e,t,n){},247:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return d})),n.d(t,"mutations",(function(){return m})),n.d(t,"actions",(function(){return f})),n.d(t,"getters",(function(){return v}));n(31),n(54);var r=n(2),o=n(1),c=n(24),l=n(38),h=n(17),d=()=>({user:{},haveAuthToken:!1,roles:null,isAuth:!1,isLogout:!1,logging:!1,mailbox:{unread_message_total:0,unread_notice_total:0},messageMenu:{list:[],time:""},messageRoom:{},socket:{isConnected:!1,reconnectErr:!1,isMaster:!1}}),m={SET_USER_INFO(e,t){var n=!(!t||!t.slug);e.user=t,e.haveAuthToken=n,e.isAuth=n,e.logging=!1},SET_USER_TOKEN(e,t){e.isLogout||(e.haveAuthToken=!!t)},SET_LOGGING(e){e.logging=!0},USER_LOGOUT(e){e.haveAuthToken=!1,e.isAuth=!1,e.logging=!1,e.isLogout=!0,e.user={}},UPDATE_USER_INFO(e,t){var{key:n,value:r}=t;o.default.set(e.user,n,r)},SOCKET_AUTO_CONNECT(e){e.socket.isConnected=!0,e.socket.reconnectErr=!1,e.socket.isMaster=!1},SOCKET_ONOPEN(e,t){e.socket.isConnected=!0,e.socket.reconnectErr=!1,e.socket.isMaster=!0},SOCKET_ONCLOSE(e,t){e.socket.isConnected=!1},SOCKET_ONERROR(e,t){e.socket.reconnectErr=!0},SOCKET_ONMESSAGE(e,t){if("unread_total"===t.channel)e.mailbox=t;else if("message-menu"===t.channel){var n=[];t.data.forEach(t=>{e.messageRoom[t.channel]||o.default.set(e.messageRoom,t.channel,{time:"",data:null}),n.push(Object.assign(t,{user:{}}))}),e.messageMenu.list=n,e.messageMenu.time=Object(h.randomStr)()}else e.messageRoom[t.channel].data=t,e.messageRoom[t.channel].time=Object(h.randomStr)();e.socket.isMaster&&(Object(l.set)("socket-on-message-data",t),Object(l.set)("socket-on-message-time",Date.now()))},SOCKET_RECONNECT(e,t){},SOCKET_RECONNECT_ERROR(e){e.socket.reconnectErr=!0},SET_MESSAGE_MENU(e,menu){var t=[];menu.forEach(n=>{e.messageRoom[n.channel]?o.default.set(e.messageRoom,n.channel,{time:Object(h.randomStr)(),data:null}):o.default.set(e.messageRoom,n.channel,{time:"",data:null}),n.user={},t.push(n)}),e.messageMenu.list=t,e.messageMenu.time=Object(h.randomStr)()},UPDATE_MESSAGE_MENU_USER(e,t){var{channel:n,user:r}=t;e.messageMenu.list.forEach(e=>{e.channel===n&&(e.user=r)})},DELETE_MESSAGE_MENU(e,t){e.messageMenu.list.forEach((n,r)=>{n.channel===t&&e.messageMenu.list.splice(r,1)})},INIT_MESSAGE_ROOM(e,t){o.default.set(e.messageRoom,t,{time:"",data:null})},CLEAR_NOTIFICATION(e,t){var{channel:n,count:r}=t;e.messageMenu.list.forEach((t,o)=>{t.channel===n&&(e.messageMenu.list[o].count-=r,e.mailbox.unread_message_total-=r)})},SET_USER_ROLE(e,data){e.roles=data}},f={initAuth(e){var t=this;return Object(r.a)((function*(){var{state:n,commit:r}=e;if(!n.haveAuthToken||n.logging)return null;if(n.user.slug)return n.user;try{r("SET_LOGGING");var o=yield Object(c.b)(t);return r("SET_USER_INFO",o),o}catch(e){return r("SET_USER_INFO",{}),null}}))()},refreshMailbox(e){var t=this;return Object(r.a)((function*(){var{state:n,commit:r}=e;n.socket.isConnected||r("SOCKET_ONMESSAGE",yield Object(c.c)(t,{slug:n.user.slug}))}))()},getMessageMenu(e){var t=this;return Object(r.a)((function*(){var{commit:n}=e;n("SET_MESSAGE_MENU",yield t.$axios.$get("v1/message/menu"))}))()},updateMessageMenu(e){var t=this,{state:n,commit:o}=e,c=n.user.slug;n.messageMenu.list.forEach(function(){var e=Object(r.a)((function*(e){var n=e.channel.split("@"),r=n[2];r===c&&(r=n[3]);var h=yield Object(l.getUserFromSessionStore)(t,r);o("UPDATE_MESSAGE_MENU_USER",{channel:e.channel,user:h})}));return function(t){return e.apply(this,arguments)}}())},getUserRoles(e){var{state:t,commit:n}=e;!t.roles&&t.user&&t.user.title.length&&this.$axios.$get("v1/user/roles").then(data=>{n("SET_USER_ROLE",data)}).catch(()=>{})}},v={isMine:e=>t=>!!e.isAuth&&e.user.slug===t,isAdmin:e=>!!e.isAuth&&e.user.is_admin,hasRole:e=>t=>!!e.user.is_admin||!!e.roles&&~e.roles.indexOf(t)}},248:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return h})),n.d(t,"mutations",(function(){return d})),n.d(t,"actions",(function(){return m})),n.d(t,"getters",(function(){return f}));var r=n(49),o=n.n(r),c=n(159),l=o.a.FlowStore(c),h=l.state,d=l.mutations,m=l.actions,f=l.getters},249:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return c})),n.d(t,"mutations",(function(){return l})),n.d(t,"actions",(function(){return h}));var r=n(2),o=n(123),c=()=>({myTagsFetched:!1,myTags:[{name:"动漫",slug:"bangumi",children:[]},{name:"游戏",slug:"game",children:[]},{name:"话题",slug:"topic",children:[]},{name:"专栏",slug:"notebook",children:[]}],hottest_tags:[],tags:[]}),l={SET_MY_TAGS_STATE(e){e.myTagsFetched=!0},SET_HOTTEST_TAGS(e,t){e.hottest_tags=t.result},SET_MY_TAGS(e,data){Object.keys(data).forEach(t=>{e.myTags.forEach(e=>{e.slug===t&&(e.children=data[t])})})}},h={getMyTags(e){var t=this;return Object(r.a)((function*(){var{rootState:n,state:r,commit:c}=e;!r.myTagsFetched&&n.isAuth&&(c("SET_MY_TAGS_STATE"),c("SET_MY_TAGS",yield Object(o.a)(t,{slug:n.user.slug})))}))()},getHottestTags(e){var{state:t,commit:n}=e;if(!t.hottest_tags.length)return this.$axios.$get("v1/tag/hottest").then(e=>{n("SET_HOTTEST_TAGS",e)}).catch(()=>{})}}},250:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return l})),n.d(t,"mutations",(function(){return d})),n.d(t,"actions",(function(){return m})),n.d(t,"getters",(function(){return f}));n(55);var r=n(2),o=n(1),c=n(184),l=()=>({}),h=(e,t)=>"".concat(e,"-").concat(t),d={set(e){var{type:t,data:data,slug:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!1;Object.keys(data).forEach(n=>{if("object"==typeof data[n]){var c=data[n];Object.keys(c).forEach(e=>{c["".concat(e,"_loading")]=!1}),o.default.set(e,"".concat(t,"-").concat(n),c)}else r=!0,data["".concat(n,"_loading")]=!1}),r&&o.default.set(e,"".concat(t,"-").concat(n),data)},PUSH_USERS(e,t){var{type:n,slug:r,key:o,data:data}=t,c=h(n,r),l="".concat(o,"_users"),d=e[c][l].list,m=data.list.map(e=>e.slug);e[c][l].list=d.filter(e=>!m.includes(e.slug)).concat(data.list),e[c][l].total=data.total,e[c][l].no_more=data.no_more,e[c][l].loading=!1},SET_STATE(e,t){var{type:n,slug:r,key:o,result:c,user:l}=t;if(0!==c){var d=h(n,r),m="".concat(o,"_users");e[d][o]=c>0,e[d]["".concat(o,"_loading")]=!1,e[d][m]&&(c>0?(e[d][m].total++,e[d][m].no_more=!1,e[d][m].list.unshift(l)):(e[d][m].total--,e[d][m].list.forEach((t,n)=>{t.slug===l.slug&&e[d][m].list.splice(n,1)})))}},SET_STATUS(e,t){var{type:n,slug:r,key:o,value:c}=t;e[h(n,r)]["".concat(o,"_users")][c]=!0},SET_LOADING(e,t){var{type:n,slug:r,action:o,result:c}=t;e[h(n,r)]["".concat(o,"_loading")]=c}},m={users(e,t){var n=this;return Object(r.a)((function*(){var{state:r,commit:o}=e,{type:l,slug:d,key:m}=t,f=r[h(l,d)]["".concat(m,"_users")];if(!f.loading&&!f.no_more){o("SET_STATUS",{type:l,key:m,slug:d,value:"loading"});try{o("PUSH_USERS",{type:l,slug:d,key:m,data:yield c.users({ctx:n,type:m,slug:d,last_slug:f.list.length?f.list[f.list.length-1].slug:0,model:l,take:15})})}catch(e){o("SET_STATUS",{type:l,key:m,slug:d,value:"error"})}}}))()},toggle(e,t){var n=this;return Object(r.a)((function*(){var{state:r,commit:o,rootState:c}=e,{type:l,slug:d,action:m,params:f}=t;if(!r[h(l,d)]["".concat(m,"_loading")]){o("SET_LOADING",{action:m,type:l,slug:d,result:!0});try{var v=yield n.$axios.$post("v1/social/toggle",f),{user:y}=c;return o("SET_STATE",{type:l,key:m,slug:d,result:v,user:{slug:y.slug,nickname:y.nickname,avatar:y.avatar,created_at:parseInt(Date.now()/1e3)}}),{success:!0,result:v}}catch(e){return o("SET_LOADING",{action:m,type:l,slug:d,result:!1}),{success:!1}}}}))()}},f={get:e=>(t,n)=>e[h(t,n)]}},302:function(e,t,n){"use strict";var r=n(78);n.n(r).a},38:function(e,t,n){"use strict";n.r(t),n.d(t,"getUserFromSessionStore",(function(){return c})),n.d(t,"setUserSessionStore",(function(){return l})),n.d(t,"has",(function(){return h})),n.d(t,"expired",(function(){return d})),n.d(t,"set",(function(){return m})),n.d(t,"get",(function(){return f})),n.d(t,"remove",(function(){return v})),n.d(t,"clear",(function(){return y}));var r=n(2),o=n(24),c=(e,t)=>{var n=function(){var n=Object(r.a)((function*(){var n=yield Object(o.d)(e,{slug:t});return n&&l(n),n}));return function(){return n.apply(this,arguments)}}();try{return sessionStorage.getItem("user-item-".concat(t))?JSON.parse(sessionStorage.getItem("user-item-".concat(t))):n()}catch(e){return n()}},l=e=>{try{sessionStorage.setItem("user-item-".concat(e.slug),JSON.stringify(e))}catch(e){}},h=e=>{try{return null!==localStorage.getItem(e)}catch(e){return!1}},d=(e,t)=>{try{var n=localStorage.getItem("".concat(e,"-created-at"));return!n||Date.now()-n>1e3*t}catch(e){return!0}},m=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t)),localStorage.setItem("".concat(e,"-created-at"),Date.now())}catch(e){}},f=(e,t)=>{try{var n=localStorage.getItem(e);return null===n?t:JSON.parse(n)}catch(e){return t}},v=e=>{try{localStorage.removeItem(e)}catch(e){}},y=()=>{try{localStorage.clear()}catch(e){}}},60:function(e,t,n){"use strict";n(54),n(33);var r=e=>{if(!e)return"";var t="";return e.split("; ").forEach(e=>{e.startsWith("JWT-TOKEN=")&&(t=e.split("JWT-TOKEN=")[1])}),t};t.a=e=>{var t="";if("undefined"!=typeof window){if(window.__AUTH_TOKEN__)return window.__AUTH_TOKEN__;var n;try{n=JSON.parse(document.querySelector('script[data-name="page-data"]').textContent)}catch(e){n={authToken:""}}(t=n.authToken)||(t=r(document.cookie))}else t=r(e.context.req.headers.cookie);return!t&&e&&(t=e.context.query.token),t=~["undefined","null"].indexOf(t)?"":t,"undefined"!=typeof window&&(window.__AUTH_TOKEN__=t),t}},73:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},83:function(e,t,n){"use strict";n(15),n(9),n(55),n(19);var r=n(1),o=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})}),1)},c=window.cancelIdleCallback||function(e){clearTimeout(e)},l=window.IntersectionObserver&&new window.IntersectionObserver(e=>{e.forEach(e=>{var{intersectionRatio:t,target:link}=e;t<=0||link.__prefetch()})});t.a={name:"NuxtLink",extends:r.default.component("RouterLink"),props:{prefetch:{type:Boolean,default:!0},noPrefetch:{type:Boolean,default:!1}},mounted(){this.prefetch&&!this.noPrefetch&&(this.handleId=o(this.observe,{timeout:2e3}))},beforeDestroy(){c(this.handleId),this.__observed&&(l.unobserve(this.$el),delete this.$el.__prefetch)},methods:{observe(){l&&this.shouldPrefetch()&&(this.$el.__prefetch=this.prefetchLink.bind(this),l.observe(this.$el),this.__observed=!0)},shouldPrefetch(){return this.getPrefetchComponents().length>0},canPrefetch(){var e=navigator.connection;return!(this.$nuxt.isOffline||e&&((e.effectiveType||"").includes("2g")||e.saveData))},getPrefetchComponents(){return this.$router.resolve(this.to,this.$route,this.append).resolved.matched.map(e=>e.components.default).filter(e=>"function"==typeof e&&!e.options&&!e.__prefetched)},prefetchLink(){if(this.canPrefetch()){l.unobserve(this.$el);var e=this.getPrefetchComponents();for(var t of e){var n=t();n instanceof Promise&&n.catch(()=>{}),t.__prefetched=!0}}}}}}},[[210,67,9,68]]]);