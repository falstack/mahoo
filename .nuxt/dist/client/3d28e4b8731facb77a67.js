(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{446:function(t,n,e){},584:function(t,n,e){"use strict";var o=e(446);e.n(o).a},695:function(t,n,e){"use strict";e.r(n);e(46),e(8),e(74),e(20);var o={name:"AdminQaTrial",layout:"app",data:function(){return{loading:!1}},methods:{handleDelete:function(t){var n=this;this.$confirm("删除后不可恢复，确认要删除吗？","提示").then((function(){n.loading||(n.loading=!0,n.$axios.$post("v1/join/delete",{id:t}).then((function(){n.$toast.success("删除成功"),n.$refs.loader.delete(t)})).catch((function(t){n.$toast.error(t.message)})).finally((function(){n.loading=!1})))})).catch((function(){}))},handlePass:function(t){var n=this;this.loading||(this.loading=!0,this.$axios.$post("v1/join/recommend",{id:t}).then((function(){n.$toast.success("入库成功"),n.$refs.loader.delete(t)})).catch((function(t){n.$toast.error(t.message)})).finally((function(){n.loading=!1})))},checkIsSelected:function(t,n,e){var o=t.answers||{},r=!1;return Object.keys(o).forEach((function(t){t.toString()!==e.toString()||r||(r=o[t]===n)})),r}},head:{title:"审核题目"}},r=(e(584),e(19)),component=Object(r.a)(o,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"admin-qa-trial"}},[e("FlowLoader",{ref:"loader",attrs:{func:"getBangumiQuestionTrials",type:"page",query:{$axios:t.$axios,status:0}},scopedSlots:t._u([{key:"default",fn:function(n){var o=n.flow,r=n.extra;return e("div",{},t._l(o,(function(n){return e("div",{key:n.id,staticClass:"trial-item"},[e("p",{staticClass:"question",domProps:{innerHTML:t._s(n.title)}}),t._v(" "),e("ol",{staticClass:"answers"},t._l(n.answers,(function(o,c){return e("li",{key:c,class:{"is-selected":t.checkIsSelected(r,c,n.id)}},[e("span",{domProps:{innerHTML:t._s(o)}})])})),0),t._v(" "),e("div",{staticClass:"controls"},[e("div",{staticClass:"intro"},[e("span",{domProps:{textContent:t._s(n.user.nickname)}}),t._v(" "),e("span",{domProps:{textContent:t._s(n.bangumi.name)}})]),t._v(" "),e("div",{staticClass:"btn"},[e("button",{on:{click:function(e){return t.handleDelete(n.id)}}},[t._v("拒绝")]),t._v(" "),e("button",{on:{click:function(e){return t.handlePass(n.id)}}},[t._v("通过")])])])])})),0)}},{key:"error",fn:function(n){var e=n.error;return[t._v("\n      "+t._s(e.message)+"\n    ")]}}])})],1)}),[],!1,null,null,null);n.default=component.exports}}]);